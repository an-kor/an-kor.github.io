function FastClick(d){var e,f=this;this.trackingClick=!1;this.trackingClickStart=0;this.targetElement=null;this.lastTouchIdentifier=this.touchStartY=this.touchStartX=0;this.touchBoundary=10;this.layer=d;if(!d||!d.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(f,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(f,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(f,
arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(f,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(f,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(f,arguments)};FastClick.notNeeded(d)||(this.deviceIsAndroid&&(d.addEventListener("mouseover",this.onMouse,!0),d.addEventListener("mousedown",this.onMouse,!0),d.addEventListener("mouseup",this.onMouse,!0)),d.addEventListener("click",this.onClick,
!0),d.addEventListener("touchstart",this.onTouchStart,!1),d.addEventListener("touchmove",this.onTouchMove,!1),d.addEventListener("touchend",this.onTouchEnd,!1),d.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(d.removeEventListener=function(f,c,e){var a=Node.prototype.removeEventListener;"click"===f?a.call(d,f,c.hijacked||c,e):a.call(d,f,c,e)},d.addEventListener=function(f,c,e){var a=Node.prototype.addEventListener;"click"===f?a.call(d,f,c.hijacked||
(c.hijacked=function(a){a.propagationStopped||c(a)}),e):a.call(d,f,c,e)}),"function"===typeof d.onclick&&(e=d.onclick,d.addEventListener("click",function(d){e(d)},!1),d.onclick=null))}FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android");FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);
FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(d){switch(d.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(d.disabled)return!0;break;case "input":if(this.deviceIsIOS&&"file"===d.type||d.disabled)return!0;break;case "label":case "video":return!0}return/\bneedsclick\b/.test(d.className)};
FastClick.prototype.needsFocus=function(d){switch(d.nodeName.toLowerCase()){case "textarea":case "select":return!0;case "input":switch(d.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return!1}return!d.disabled&&!d.readOnly;default:return/\bneedsfocus\b/.test(d.className)}};
FastClick.prototype.sendClick=function(d,e){var f,h;document.activeElement&&document.activeElement!==d&&document.activeElement.blur();h=e.changedTouches[0];f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null);f.forwardedTouchEvent=!0;d.dispatchEvent(f)};FastClick.prototype.focus=function(d){var e;this.deviceIsIOS&&d.setSelectionRange?(e=d.value.length,d.setSelectionRange(e,e)):d.focus()};
FastClick.prototype.updateScrollParent=function(d){var e,f;e=d.fastClickScrollParent;if(!e||!e.contains(d)){f=d;do{if(f.scrollHeight>f.offsetHeight){e=f;d.fastClickScrollParent=f;break}f=f.parentElement}while(f)}e&&(e.fastClickLastScrollTop=e.scrollTop)};FastClick.prototype.getTargetElementFromEventTarget=function(d){return d.nodeType===Node.TEXT_NODE?d.parentNode:d};
FastClick.prototype.onTouchStart=function(d){var e,f,h;if(1<d.targetTouches.length)return!0;e=this.getTargetElementFromEventTarget(d.target);f=d.targetTouches[0];if(this.deviceIsIOS){h=window.getSelection();if(h.rangeCount&&!h.isCollapsed)return!0;if(!this.deviceIsIOS4){if(f.identifier===this.lastTouchIdentifier)return d.preventDefault(),!1;this.lastTouchIdentifier=f.identifier;this.updateScrollParent(e)}}this.trackingClick=!0;this.trackingClickStart=d.timeStamp;this.targetElement=e;this.touchStartX=
f.pageX;this.touchStartY=f.pageY;200>d.timeStamp-this.lastClickTime&&d.preventDefault();return!0};FastClick.prototype.touchHasMoved=function(d){d=d.changedTouches[0];var e=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>e||Math.abs(d.pageY-this.touchStartY)>e?!0:!1};FastClick.prototype.onTouchMove=function(d){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(d.target)||this.touchHasMoved(d))this.trackingClick=!1,this.targetElement=null;return!0};
FastClick.prototype.findControl=function(d){return void 0!==d.control?d.control:d.htmlFor?document.getElementById(d.htmlFor):d.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};
FastClick.prototype.onTouchEnd=function(d){var e,f,h=this.targetElement;if(!this.trackingClick)return!0;if(200>d.timeStamp-this.lastClickTime)return this.cancelNextClick=!0;this.lastClickTime=d.timeStamp;e=this.trackingClickStart;this.trackingClick=!1;this.trackingClickStart=0;this.deviceIsIOSWithBadTarget&&(f=d.changedTouches[0],h=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||h,h.fastClickScrollParent=this.targetElement.fastClickScrollParent);f=h.tagName.toLowerCase();
if("label"===f){if(e=this.findControl(h)){this.focus(h);if(this.deviceIsAndroid)return!1;h=e}}else if(this.needsFocus(h)){if(100<d.timeStamp-e||this.deviceIsIOS&&window.top!==window&&"input"===f)return this.targetElement=null,!1;this.focus(h);this.deviceIsIOS4&&"select"===f||(this.targetElement=null,d.preventDefault());return!1}if(this.deviceIsIOS&&!this.deviceIsIOS4&&(e=h.fastClickScrollParent)&&e.fastClickLastScrollTop!==e.scrollTop)return!0;this.needsClick(h)||(d.preventDefault(),this.sendClick(h,
d));return!1};FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(d){return this.targetElement&&!d.forwardedTouchEvent&&d.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(d.stopImmediatePropagation?d.stopImmediatePropagation():d.propagationStopped=!0,d.stopPropagation(),d.preventDefault(),!1):!0:!0};
FastClick.prototype.onClick=function(d){if(this.trackingClick)return this.targetElement=null,this.trackingClick=!1,!0;if("submit"===d.target.type&&0===d.detail)return!0;(d=this.onMouse(d))||(this.targetElement=null);return d};
FastClick.prototype.destroy=function(){var d=this.layer;this.deviceIsAndroid&&(d.removeEventListener("mouseover",this.onMouse,!0),d.removeEventListener("mousedown",this.onMouse,!0),d.removeEventListener("mouseup",this.onMouse,!0));d.removeEventListener("click",this.onClick,!0);d.removeEventListener("touchstart",this.onTouchStart,!1);d.removeEventListener("touchmove",this.onTouchMove,!1);d.removeEventListener("touchend",this.onTouchEnd,!1);d.removeEventListener("touchcancel",this.onTouchCancel,!1)};
FastClick.notNeeded=function(d){var e;if("undefined"===typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent))if(FastClick.prototype.deviceIsAndroid){if((e=document.querySelector("meta[name=viewport]"))&&-1!==e.content.indexOf("user-scalable=no"))return!0}else return!0;return"none"===d.style.msTouchAction?!0:!1};FastClick.attach=function(d){return new FastClick(d)};
"undefined"!==typeof define&&define.amd?define(function(){return FastClick}):"undefined"!==typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;var IScroll=function(d,e,f){function h(a,c){this.wrapper="string"==typeof a?e.querySelector(a):a;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,deceleration:6E-4,
speedRatio:1,maxMomentumDistance:0,maxMomentumDuration:0};for(var l in c)this.options[l]=c[l];this.translateZ=this.options.HWCompositing&&b.hasPerspective?" translateZ(0)":"";this.options.useTransition=b.hasTransition&&this.options.useTransition;this.options.useTransform=b.hasTransform&&this.options.useTransform;this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;
this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY;this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing="string"==typeof this.options.bounceEasing?b.ease[this.options.bounceEasing]||b.ease.circular:this.options.bounceEasing;
this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling;!0===this.options.tap&&(this.options.tap="tap");this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.directionY=this.directionX=this.y=this.x=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function c(a,b,c){var r=e.createElement("div"),d=e.createElement("div");!0===c&&(r.style.cssText="position:absolute;z-index:9999;opacity:0;-webkit-transition: opacity 0.3s;-webkit-backface-visibility: hidden;",
d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.5);border-radius:"+T.p(3)+"px");d.className="iScrollIndicator";"h"==a?(!0===c&&(r.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",d.style.height="100%"),r.className="iScrollHorizontalScrollbar"):(!0===c&&(r.style.cssText+=";width:"+T.p(5)+"px;bottom:"+T.p(2)+"px;top:"+T.p(2)+"px;right:"+T.p(3)+"px",d.style.width="100%"),
r.className="iScrollVerticalScrollbar");b||(r.style.pointerEvents="none");r.appendChild(d);return r}function k(a,c){this.wrapper="string"==typeof c.el?e.querySelector(c.el):c.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=a;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var l in c)this.options[l]=c[l];this.sizeRatioY=this.sizeRatioX=1;this.maxPosY=this.maxPosX=0;this.options.interactive&&
(this.options.disableTouch||(b.addEvent(this.indicator,"touchstart",this),b.addEvent(d,"touchend",this)),this.options.disablePointer||(b.addEvent(this.indicator,"MSPointerDown",this),b.addEvent(d,"MSPointerUp",this)),this.options.disableMouse||(b.addEvent(this.indicator,"mousedown",this),b.addEvent(d,"mouseup",this)))}var a=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(a){d.setTimeout(a,1E3/60)},b=
function(){function a(b){return!1===r?!1:""===r?b:r+b.charAt(0).toUpperCase()+b.substr(1)}var b={},c=e.createElement("div").style,r=function(){for(var a=["t","webkitT","MozT","msT","OT"],b,g=0,p=a.length;g<p;g++)if(b=a[g]+"ransform",b in c)return a[g].substr(0,a[g].length-1);return!1}();b.getTime=Date.now||function(){return(new Date).getTime()};b.extend=function(a,b){for(var g in b)a[g]=b[g]};b.addEvent=function(a,b,g,c){a.addEventListener(b,g,!!c)};b.removeEvent=function(a,b,g,c){a.removeEventListener(b,
g,!!c)};b.momentum=function(a,b,g,c,p,l){var d=a-b;g=f.abs(d)/g*l.speedRatio;var r,e=l.deceleration;r=a+g*g/(2*e)*(0>d?-1:1);d=g/e;l.maxMomentumDistance&&f.abs(a-r)>l.maxMomentumDistance&&(r=a+(0>b-a?1:-1)*l.maxMomentumDistance,d=l.maxMomentumDuration/g);r<c?(r=p?c-p/2.5*(g/16):c,d=f.abs(r-a),d/=g):0<r&&(r=p?p/2.5*(g/16):0,d=f.abs(a)+r,d/=g);return{destination:f.round(r),duration:d}};var y=a("transform");b.extend(b,{hasTransform:!1!==y,hasPerspective:a("perspective")in c,hasTouch:"ontouchstart"in
d,hasPointer:navigator.msPointerEnabled,hasTransition:a("transition")in c});b.isAndroidBrowser=/Android/.test(d.navigator.appVersion)&&/Version\/\d/.test(d.navigator.appVersion);b.extend(b.style={},{transform:y,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transformOrigin:a("transformOrigin")});b.hasClass=function(a,b){return RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)};b.addClass=function(a,g){if(!b.hasClass(a,g)){var c=a.className.split(" ");
c.push(g);a.className=c.join(" ")}};b.removeClass=function(a,g){b.hasClass(a,g)&&(a.className=a.className.replace(RegExp("(^|\\s)"+g+"(\\s|$)","g")," "))};b.offset=function(a){for(var b=-a.offsetLeft,g=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,g-=a.offsetTop;return{left:b,top:g}};b.preventDefaultException=function(a,b){for(var g in b)if(b[g].test(a[g]))return!0;return!1};b.extend(b.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,
MSPointerUp:3});b.extend(b.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return f.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){return(a-=1)*a*(5*a+4)+1}},quadratic2:{style:"",fn:function(a){return a*(2-a)}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:
7.5625*(a-=2.625/2.75)*a+0.984375}},elastic:{style:"",fn:function(a){return 0===a?0:1==a?1:0.4*f.pow(2,-10*a)*f.sin((a-0.055)*2*f.PI/0.22)+1}}});b.tap=function(a,b){var g=e.createEvent("Event");g.initEvent(b,!0,!0);g.pageX=a.pageX;g.pageY=a.pageY;a.target.dispatchEvent(g)};b.click=function(a){var b=a.target,g;"SELECT"!=b.tagName&&("INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName)&&(g=e.createEvent("MouseEvents"),g.initMouseEvent("click",!0,!0,a.view,1,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,
a.shiftKey,a.metaKey,0,null),g._constructed=!0,b.dispatchEvent(g))};return b}();h.prototype={version:"5.0.6",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||
this._execEvent("scrollEnd"))},_start:function(a){if(!(1!=b.eventType[a.type]&&0!==a.button)&&this.enabled&&!(this.initiated&&b.eventType[a.type]!==this.initiated)){this.options.preventDefault&&(!b.isAndroidBrowser&&!b.preventDefaultException(a.target,this.options.preventDefaultException))&&a.preventDefault();var c=a.touches?a.touches[0]:a;this.initiated=b.eventType[a.type];this.moved=!1;this.directionLocked=this.directionY=this.directionX=this.distY=this.distX=0;this._transitionTime();this.isAnimating=
!1;this.startTime=b.getTime();this.options.useTransition&&this.isInTransition&&(a=this.getComputedPosition(),this._translate(f.round(a.x),f.round(a.y)),this._execEvent("scrollEnd"),this.isInTransition=!1);this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=c.pageX;this.pointY=c.pageY;this.options.hideScrollbarsOnMove&&(this.indicators[0].wrapper.style.opacity=1);this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&b.eventType[a.type]===
this.initiated){this.options.preventDefault&&a.preventDefault();var c=a.touches?a.touches[0]:a,l=c.pageX-this.pointX,d=c.pageY-this.pointY,e=b.getTime(),n;this.pointX=c.pageX;this.pointY=c.pageY;this.distX+=l;this.distY+=d;c=f.abs(this.distX);n=f.abs(this.distY);if(!(300<e-this.endTime&&10>c&&10>n)){!this.directionLocked&&!this.options.freeScroll&&(this.directionLocked=c>n+this.options.directionLockThreshold?"h":n>=c+this.options.directionLockThreshold?"v":"n");if("h"==this.directionLocked){if("vertical"==
this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough){this.initiated=!1;return}d=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough){this.initiated=!1;return}l=0}l=this.hasHorizontalScroll?l:0;d=this.hasVerticalScroll?d:0;a=this.x+l;c=this.y+d;if(0<a||a<this.maxScrollX)a=this.options.bounce?this.x+l/3:0<a?0:this.maxScrollX;if(0<c||c<this.maxScrollY)c=
this.options.bounce?this.y+d/3:0<c?0:this.maxScrollY;this.directionX=0<l?-1:0>l?1:0;this.directionY=0<d?-1:0>d?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(a,c);300<e-this.startTime&&(this.startTime=e,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&b.eventType[a.type]===this.initiated){this.options.preventDefault&&!b.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();this._execEvent("touchEnd");var c,
l;l=b.getTime()-this.startTime;var d=f.round(this.x),e=f.round(this.y),n=f.abs(d-this.startX),q=f.abs(e-this.startY);c=0;var h="";this.scrollTo(d,e);this.initiated=this.isInTransition=0;this.endTime=b.getTime();if(this.options.hideScrollbarsOnMove){var w=this;setTimeout(function(){w.indicators[0].wrapper.style.opacity=0},700)}if(!this.resetPosition(this.options.bounceTime))if(this.moved)if(this._events.flick&&200>l&&100>n&&100>q)this._execEvent("flick");else if(this.options.momentum&&300>l&&(c=this.hasHorizontalScroll?
b.momentum(this.x,this.startX,l,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options):{destination:d,duration:0},l=this.hasVerticalScroll?b.momentum(this.y,this.startY,l,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options):{destination:e,duration:0},d=c.destination,e=l.destination,c=f.max(c.duration,l.duration),this.isInTransition=1),this.options.snap&&(this.currentPage=h=this._nearestSnap(d,e),c=this.options.snapSpeed||f.max(f.max(f.min(f.abs(d-h.x),1E3),f.min(f.abs(e-
h.y),1E3)),300),d=h.x,e=h.y,this.directionY=this.directionX=0,h=this.options.bounceEasing),d!=this.x||e!=this.y){if(0<d||d<this.maxScrollX||0<e||e<this.maxScrollY)h=b.ease.quadratic;this.scrollTo(d,e,c,h)}else this._execEvent("scrollEnd");else this.options.tap&&b.tap(a,this.options.tap),this.options.click&&b.click(a)}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,
c=this.y;!this.hasHorizontalScroll||0<this.x?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX);!this.hasVerticalScroll||0<this.y?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY);if(b==this.x&&c==this.y)return!1;this.scrollTo(b,c,a||0,this.options.bounceEasing);return!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=
this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&0>this.maxScrollX;this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.directionY=this.directionX=this.endTime=0;this.wrapperOffset=b.offset(this.wrapper);
this._execEvent("refresh");this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]);this._events[a].push(b)},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].call(this)}},scrollBy:function(a,b,c,d){a=this.x+a;b=this.y+b;this.scrollTo(a,b,c||0,d)},scrollTo:function(a,c,l,d){d=d||b.ease.circular;!l||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(l),this._translate(a,
c)):this._animate(a,c,l,d.fn)},scrollToElement:function(a,c,l,d,e){if(a=a.nodeType?a:this.scroller.querySelector(a)){var n=b.offset(a);n.left-=this.wrapperOffset.left;n.top-=this.wrapperOffset.top;!0===l&&(l=f.round(a.offsetWidth/2-this.wrapper.offsetWidth/2));!0===d&&(d=f.round(a.offsetHeight/2-this.wrapper.offsetHeight/2));n.left-=l||0;n.top-=d||0;n.left=0<n.left?0:n.left<this.maxScrollX?this.maxScrollX:n.left;n.top=0<n.top?0:n.top<this.maxScrollY?this.maxScrollY:n.top;c=void 0===c||null===c||"auto"===
c?f.max(f.abs(this.x-n.left),f.abs(this.y-n.top)):c;this.scrollTo(n.left,n.top,c,e)}},_transitionTime:function(a){a=a||0;this.scrollerStyle[b.style.transitionDuration]=a+"ms";if(this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].transitionTime(a)},_transitionTimingFunction:function(a){this.scrollerStyle[b.style.transitionTimingFunction]=a;if(this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].transitionTimingFunction(a)},_translate:function(a,c){this.options.useTransform?
this.scrollerStyle[b.style.transform]="translate("+a+"px,"+c+"px)"+this.translateZ:(a=f.round(a),c=f.round(c),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=c+"px");this.x=a;this.y=c;this._execEvent("translate");if(this.indicators)for(var l=this.indicators.length;l--;)this.indicators[l].updatePosition()},_initEvents:function(a){a=a?b.removeEvent:b.addEvent;var c=this.options.bindToWrapper?this.wrapper:d;a(d,"orientationchange",this);a(d,"resize",this);this.options.click&&a(this.wrapper,"click",
this,!0);this.options.disableMouse||(a(this.wrapper,"mousedown",this),a(c,"mousemove",this),a(c,"mousecancel",this),a(c,"mouseup",this));b.hasPointer&&!this.options.disablePointer&&(a(this.wrapper,"MSPointerDown",this),a(c,"MSPointerMove",this),a(c,"MSPointerCancel",this),a(c,"MSPointerUp",this));b.hasTouch&&!this.options.disableTouch&&(a(this.wrapper,"touchstart",this),a(c,"touchmove",this),a(c,"touchcancel",this),a(c,"touchend",this));a(this.scroller,"transitionend",this);a(this.scroller,"webkitTransitionEnd",
this);a(this.scroller,"oTransitionEnd",this);a(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a=d.getComputedStyle(this.scroller,null),c;this.options.useTransform?(a=a[b.style.transform].split(")")[0].split(", "),c=+(a[12]||a[4]),a=+(a[13]||a[5])):(c=+a.left.replace(/[^-\d]/g,""),a=+a.top.replace(/[^-\d]/g,""));return{x:c,y:a}},_initIndicators:function(){var a=this.options.interactiveScrollbars,b="string"!=typeof this.options.scrollbars,l=[],d;this.indicators=[];this.options.scrollbars&&
(this.options.scrollY&&(d={el:c("v",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(d.el),l.push(d)),this.options.scrollX&&(d={el:c("h",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:b,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(d.el),l.push(d)));this.options.indicators&&(l=l.concat(this.options.indicators));for(a=l.length;a--;)this.indicators[a]=
new k(this,l[a]);this.on("refresh",function(){if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].refresh()});this.on("destroy",function(){if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].destroy();delete this.indicators})},_initWheel:function(){b.addEvent(this.wrapper,"mousewheel",this);b.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){b.removeEvent(this.wrapper,"mousewheel",this);b.removeEvent(this.wrapper,"DOMMouseScroll",
this)})},_wheel:function(a){if(this.enabled){a.preventDefault();var b,c,d,e=this;clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400);if("wheelDeltaX"in a)b=a.wheelDeltaX/120,a=a.wheelDeltaY/120;else if("wheelDelta"in a)b=a=a.wheelDelta/120;else if("detail"in a)b=a=-a.detail/3;else return;b*=this.options.mouseWheelSpeed;a*=this.options.mouseWheelSpeed;this.hasVerticalScroll||(b=a,a=0);this.options.snap?(c=this.currentPage.pageX,d=this.currentPage.pageY,
0<b?c--:0>b&&c++,0<a?d--:0>a&&d++,this.goToPage(c,d)):(c=this.x+f.round(this.hasHorizontalScroll?b*this.options.invertWheelDirection:0),d=this.y+f.round(this.hasVerticalScroll?a*this.options.invertWheelDirection:0),0<c?c=0:c<this.maxScrollX&&(c=this.maxScrollX),0<d?d=0:d<this.maxScrollY&&(d=this.maxScrollY),this.scrollTo(c,d,0))}},_initSnap:function(){this.currentPage={};"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var a=
0,b,c=0,d,e,n,h=0,k;d=this.options.snapStepX||this.wrapperWidth;var w=this.options.snapStepY||this.wrapperHeight;this.pages=[];if(this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap){e=f.round(d/2);for(n=f.round(w/2);h>-this.scrollerWidth;){this.pages[a]=[];for(k=b=0;k>-this.scrollerHeight;)this.pages[a][b]={x:f.max(h,this.maxScrollX),y:f.max(k,this.maxScrollY),width:d,height:w,cx:h-e,cy:k-n},k-=w,b++;h-=d;a++}}else{w=this.options.snap;b=w.length;
for(d=-1;a<b;a++){if(0===a||w[a].offsetLeft<=w[a-1].offsetLeft)c=0,d++;this.pages[c]||(this.pages[c]=[]);h=f.max(-w[a].offsetLeft,this.maxScrollX);k=f.max(-w[a].offsetTop,this.maxScrollY);e=h-f.round(w[a].offsetWidth/2);n=k-f.round(w[a].offsetHeight/2);this.pages[c][d]={x:h,y:k,width:w[a].offsetWidth,height:w[a].offsetHeight,cx:e,cy:n};h>this.maxScrollX&&c++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);0===this.options.snapThreshold%1?this.snapThresholdY=this.snapThresholdX=
this.options.snapThreshold:(this.snapThresholdX=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var a=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.x-this.startX),1E3),f.min(f.abs(this.y-this.startY),1E3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,
a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,e=0;if(f.abs(a-this.absStartX)<this.snapThresholdX&&f.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;0<a?a=0:a<this.maxScrollX&&(a=this.maxScrollX);0<b?b=0:b<this.maxScrollY&&(b=this.maxScrollY);for(;c<d;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;e<d;e++)if(b>=this.pages[0][e].cy){b=this.pages[0][e].y;break}c==this.currentPage.pageX&&
(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x);e==this.currentPage.pageY&&(e+=this.directionY,0>e?e=0:e>=this.pages[0].length&&(e=this.pages[0].length-1),b=this.pages[0][e].y);return{x:a,y:b,pageX:c,pageY:e}},goToPage:function(a,b,c,d){d=d||this.options.bounceEasing;a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0);b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var e=this.pages[a][b].x,n=this.pages[a][b].y;c=void 0===c?this.options.snapSpeed||
f.max(f.max(f.min(f.abs(e-this.x),1E3),f.min(f.abs(n-this.y),1E3)),300):c;this.currentPage={x:e,y:n,pageX:a,pageY:b};this.scrollTo(e,n,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++;c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++);this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--;0>c&&this.hasVerticalScroll&&(c=0,d--);this.goToPage(c,d,a,b)},_initKeys:function(a){a={pageUp:33,pageDown:34,end:35,home:36,left:37,
up:38,right:39,down:40};var c;if("object"==typeof this.options.keyBindings)for(c in this.options.keyBindings)"string"==typeof this.options.keyBindings[c]&&(this.options.keyBindings[c]=this.options.keyBindings[c].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(c in a)this.options.keyBindings[c]=this.options.keyBindings[c]||a[c];b.addEvent(d,"keydown",this);this.on("destroy",function(){b.removeEvent(d,"keydown",this)})},_key:function(a){if(this.enabled){var c=this.options.snap,d=c?
this.currentPage.pageX:this.x,e=c?this.currentPage.pageY:this.y,h=b.getTime(),n=this.keyTime||0,k;this.options.useTransition&&this.isInTransition&&(k=this.getComputedPosition(),this._translate(f.round(k.x),f.round(k.y)),this.isInTransition=!1);this.keyAcceleration=200>h-n?f.min(this.keyAcceleration+0.25,50):0;switch(a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=c?1:this.wrapperWidth:e+=c?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&
!this.hasVerticalScroll?d-=c?1:this.wrapperWidth:e-=c?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=c?this.pages.length-1:this.maxScrollX;e=c?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=d=0;break;case this.options.keyBindings.left:d+=c?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:e+=c?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=c?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:e-=
c?1:5+this.keyAcceleration>>0;break;default:return}c?this.goToPage(d,e):(0<d?this.keyAcceleration=d=0:d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),0<e?this.keyAcceleration=e=0:e<this.maxScrollY&&(e=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,e,0),this.keyTime=h)}},_animate:function(c,p,d,e){function f(){var C=b.getTime(),I;C>=L?(n.isAnimating=!1,n._translate(c,p),n.resetPosition(n.options.bounceTime)||n._execEvent("scrollEnd")):(C=(C-w)/d,I=e(C),C=(c-h)*I+h,I=(p-k)*I+
k,n._translate(C,I),n.isAnimating&&a(f))}var n=this,h=this.x,k=this.y,w=b.getTime(),L=w+d;this.isAnimating=!0;f()},handleEvent:function(a){switch(a.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(a);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(a);
break;case "DOMMouseScroll":case "mousewheel":this._wheel(a);break;case "keydown":this._key(a);break;case "click":a._constructed||(a.preventDefault(),a.stopPropagation())}}};k.prototype={handleEvent:function(a){switch(a.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(a);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(a);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(a)}},
destroy:function(){this.options.interactive&&(b.removeEvent(this.indicator,"touchstart",this),b.removeEvent(this.indicator,"MSPointerDown",this),b.removeEvent(this.indicator,"mousedown",this),b.removeEvent(d,"touchmove",this),b.removeEvent(d,"MSPointerMove",this),b.removeEvent(d,"mousemove",this),b.removeEvent(d,"touchend",this),b.removeEvent(d,"MSPointerUp",this),b.removeEvent(d,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var c=
a.touches?a.touches[0]:a;a.preventDefault();a.stopPropagation();this.transitionTime(0);this.initiated=!0;this.moved=!1;this.lastPointX=c.pageX;this.lastPointY=c.pageY;this.startTime=b.getTime();this.options.disableTouch||b.addEvent(d,"touchmove",this);this.options.disablePointer||b.addEvent(d,"MSPointerMove",this);this.options.disableMouse||b.addEvent(d,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(a){var c=a.touches?a.touches[0]:a,d,e;b.getTime();this.moved||this.scroller._execEvent("scrollStart");
this.moved=!0;d=c.pageX-this.lastPointX;this.lastPointX=c.pageX;e=c.pageY-this.lastPointY;this.lastPointY=c.pageY;this._pos(this.x+d,this.y+e);a.preventDefault();a.stopPropagation()},_end:function(a){if(this.initiated){this.initiated=!1;a.preventDefault();a.stopPropagation();b.removeEvent(d,"touchmove",this);b.removeEvent(d,"MSPointerMove",this);b.removeEvent(d,"mousemove",this);if(this.scroller.options.snap){a=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var c=this.options.snapSpeed||
f.max(f.max(f.min(f.abs(this.scroller.x-a.x),1E3),f.min(f.abs(this.scroller.y-a.y),1E3)),300);if(this.scroller.x!=a.x||this.scroller.y!=a.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=a,this.scroller.scrollTo(a.x,a.y,c,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){this.indicatorStyle[b.style.transitionDuration]=(a||0)+"ms"},transitionTimingFunction:function(a){this.indicatorStyle[b.style.transitionTimingFunction]=
a},refresh:function(){this.transitionTime(0);this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(b.addClass(this.wrapper,"iScrollBothScrollbars"),b.removeClass(this.wrapper,"iScrollLoneScrollbar"),
this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(b.removeClass(this.wrapper,"iScrollBothScrollbars"),b.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=f.max(f.round(this.wrapperWidth*
this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=f.max(f.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||
this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var a=f.round(this.sizeRatioX*this.scroller.x)||0,c=f.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),
0>c?c=0:c>this.maxPosY&&(c=this.maxPosY));this.x=a;this.y=c;var d=!1;this.scroller.options.indicators&&(d=this.scroller.options.indicators[0].notUseTransform);this.scroller.options.useTransform&&!d?this.indicatorStyle[b.style.transform]="translate("+a+"px,"+c+"px)"+this.scroller.translateZ:(this.indicatorStyle.webkitTransition="",this.indicatorStyle.left=a+"px",this.indicatorStyle.top=c+"px",this.indicatorStyle.position="relative")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX);0>b?
b=0:b>this.maxPosY&&(b=this.maxPosY);a=this.options.listenX?f.round(a/this.sizeRatioX):this.scroller.x;b=this.options.listenY?f.round(b/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(a,b)}};h.ease=b.ease;return h}(window,document,Math);(function(){function d(a){var b=B,c;a:{c=b.className.split(/\s+/);for(var g=0,p=c.length;g<p;g+=1)if(c[g]===a){c=!0;break a}c=!1}c||(b.className+=(""===b.className?"":" ")+a)}function e(a,b,c){this.b=null!=a?a:null;this.c=null!=b?b:null;this.e=null!=c?c:null}function f(a,b){return a.b>b.b||a.b===b.b&&a.c>b.c||a.b===b.b&&a.c===b.c&&a.e>b.e?1:a.b<b.b||a.b===b.b&&a.c<b.c||a.b===b.b&&a.c===b.c&&a.e<b.e?-1:0}function h(a,b){return 0===f(a,b)||1===f(a,b)}function c(){var a=b.exec(q[1]),c=null,g=null,p=
null;a&&(null!==a[1]&&a[1]&&(c=parseInt(a[1],10)),null!==a[2]&&a[2]&&(g=parseInt(a[2],10)),null!==a[3]&&a[3]&&(p=parseInt(a[3],10)));return new e(c,g,p)}function k(){var a=g;return 3===a.a||7===a.a||6===a.a||9===a.a||8===a.a||5===a.a?"grayscale":1===a.a&&h(a.f,new e(6,2))&&1===a.d?"grayscale":"unknown"}var a=window,b=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/,g,p=a.navigator.userAgent,l=0,r=new e,y=0,n=new e,q=null;if(q=/(?:iPod|iPad|iPhone).*? OS ([\d_]+)/.exec(p))y=3,n=
c();else if(q=/(?:BB\d{2}|BlackBerry).*?Version\/([^\s]*)/.exec(p))y=9,n=c();else if(q=/Android ([^;)]+)|Android/.exec(p))y=5,n=c();else if(q=/Windows Phone(?: OS)? ([^;)]+)/.exec(p))y=8,n=c();else if(q=/Linux ([^;)]+)|Linux/.exec(p))y=4,n=c();else if(q=/OS X ([^;)]+)/.exec(p))y=2,n=c();else if(q=/Windows NT ([^;)]+)/.exec(p))y=1,n=c();else if(q=/CrOS ([^;)]+)/.exec(p))y=6,n=c();if(q=/MSIE ([\d\w\.]+)/.exec(p))l=1,r=c();else if(q=/Trident.*rv:([\d\w\.]+)/.exec(p))l=1,r=c();else if(q=/OPR\/([\d.]+)/.exec(p))l=
4,r=c();else if(q=/Opera Mini.*Version\/([\d\.]+)/.exec(p))l=4,r=c();else if(q=/Opera(?: |.*Version\/|\/)([\d\.]+)/.exec(p))l=4,r=c();else if(q=/Firefox\/([\d\w\.]+)|Firefox/.exec(p))l=3,r=c();else if(q=/(?:Chrome|CrMo|CriOS)\/([\d\.]+)/.exec(p))l=2,r=c();else if(q=/Silk\/([\d\._]+)/.exec(p))l=7,r=c();else if(5===y||9===y)l=6;else if(q=/Version\/([\d\.\w]+).*Safari/.exec(p))l=5,r=c();g=new function(a,b,c,g){this.d=a;this.g=b;this.a=c;this.f=g}(l,r,y,n);var p=k(),l=k(),l="unknown"!==l?l:2===g.a||4===
g.a?"subpixel":1===g.a?h(g.f,new e(6,0))?"subpixel":1===g.d?h(g.g,new e(7,0))?"subpixel":"grayscale":"subpixel":"unknown",B=a.document.documentElement;if(1===g.a){if(!(a=2===g.d))(a=4===g.d)||(a=-1===f(g.f,new e(6,0)));if(a)a="gdi";else if(h(g.f,new e(6,0))){if(a=1===g.d)a=g.g,r=new e(8,0),a=0===f(a,r)||-1===f(a,r);a=a?"gdi":"directwrite"}else a="unknown"}else a=8===g.a?"directwrite":2===g.a||3===g.a?"coretext":5===g.a||4===g.a||6===g.a||7===g.a||9===g.a?"freetype":"unknown";d("tr-"+a);"unknown"===
p&&"unknown"!==l&&(p+="-"+l);d("tr-aa-"+p)})();!function(d,e,f){function h(){var a=d.L;c.noConflict=function(){return d.L=a,this};d.L=c}var c={version:"0.8-dev"};"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"function"==typeof define&&define.amd?define(c):h();c.Util={extend:function(a){var b,c,p,d,e=Array.prototype.slice.call(arguments,1);c=0;for(p=e.length;p>c;c++)for(b in d=e[c],d)a[b]=d[b];return a},create:Object.create||function(){function a(){}return function(b){return a.prototype=b,new a}}(),bind:function(a,b){var c=
Array.prototype.slice;if(a.bind)return a.bind.apply(a,c.call(arguments,1));var p=c.call(arguments,2);return function(){return a.apply(b,p.length?p.concat(c.call(arguments)):arguments)}},stamp:function(a){return a._leaflet_id=a._leaflet_id||++c.Util.lastId,a._leaflet_id},lastId:0,throttle:function(a,b,c){var p,d,e,f;return f=function(){p=!1;d&&(e.apply(c,d),d=!1)},e=function(){p?d=arguments:(a.apply(c,arguments),setTimeout(f,b),p=!0)}},wrapNum:function(a,b,c){var p=b[1];b=b[0];var d=p-b;return a===
p&&c?a:((a-b)%d+d)%d+b},falseFn:function(){return!1},formatNum:function(a,b){var c=Math.pow(10,b||5);return Math.round(a*c)/c},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return c.Util.trim(a).split(/\s+/)},setOptions:function(a,b){a.hasOwnProperty("options")||(a.options=a.options?c.Util.create(a.options):{});for(var g in b)a.options[g]=b[g];return a.options},getParamString:function(a,b,c){var p=[],d;for(d in a)p.push(encodeURIComponent(c?d.toUpperCase():
d)+"="+encodeURIComponent(a[d]));return(b&&-1!==b.indexOf("?")?"&":"?")+p.join("&")},template:function(a,b){return a.replace(c.Util.templateRe,function(a,c){var d=b[c];if(d===f)throw Error("No value provided for variable "+a);return"function"==typeof d&&(d=d(b)),d})},templateRe:/\{ *([\w_]+) *\}/g,isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function a(a){return d["webkit"+
a]||d["moz"+a]||d["ms"+a]}function b(a){var b=+new Date,c=Math.max(0,16-(b-g));return g=b+c,d.setTimeout(a,c)}var g=0,p=d.requestAnimationFrame||a("RequestAnimationFrame")||b,e=d.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){d.clearTimeout(a)};c.Util.requestAnimFrame=function(a,g,e,l){return e&&p===b?(a.call(g),void 0):p.call(d,c.bind(a,g),l)};c.Util.cancelAnimFrame=function(a){a&&e.call(d,a)}})();c.extend=c.Util.extend;c.bind=c.Util.bind;c.stamp=c.Util.stamp;
c.setOptions=c.Util.setOptions;c.Class=function(){};c.Class.extend=function(a){var b=function(){this.initialize&&this.initialize.apply(this,arguments);this._initHooks.length&&this.callInitHooks()},g=b.__super__=this.prototype,d=c.Util.create(g);d.constructor=b;b.prototype=d;for(var e in this)this.hasOwnProperty(e)&&"prototype"!==e&&(b[e]=this[e]);return a.statics&&(c.extend(b,a.statics),delete a.statics),a.includes&&(c.Util.extend.apply(null,[d].concat(a.includes)),delete a.includes),d.options&&(a.options=
c.Util.extend(c.Util.create(d.options),a.options)),c.extend(d,a),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=d._initHooks.length;b>a;a++)d._initHooks[a].call(this)}},b};c.Class.include=function(a){c.extend(this.prototype,a)};c.Class.mergeOptions=function(a){c.extend(this.prototype.options,a)};c.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=
this.prototype._initHooks||[];this.prototype._initHooks.push("function"==typeof a?a:function(){this[a].apply(this,b)})};c.Evented=c.Class.extend({on:function(a,b,g){if("object"==typeof a)for(var d in a)this._on(d,a[d],b);else{a=c.Util.splitWords(a);d=0;for(var e=a.length;e>d;d++)this._on(a[d],b,g)}return this},off:function(a,b,g){if(a)if("object"==typeof a)for(var d in a)this._off(d,a[d],b);else{a=c.Util.splitWords(a);d=0;for(var e=a.length;e>d;d++)this._off(a[d],b,g)}else delete this._events;return this},
_on:function(a,b,g){var d=this._events=this._events||{},e=g&&g!==this&&c.stamp(g);if(e){var f=a+"_idx";a+="_len";f=d[f]=d[f]||{};e=c.stamp(b)+"_"+e;f[e]||(f[e]={fn:b,ctx:g},d[a]=(d[a]||0)+1)}else d[a]=d[a]||[],d[a].push({fn:b})},_off:function(a,b,g){var d=this._events,e=a+"_idx",f=a+"_len";if(d){if(!b)return delete d[a],delete d[e],delete d[f],void 0;var h;if(g=g&&g!==this&&c.stamp(g))b=c.stamp(b)+"_"+g,(e=d[e])&&e[b]&&(h=e[b],delete e[b],d[f]--);else{e=d[a];d=0;for(f=e.length;f>d;d++)if(e[d].fn===
b){h=e[d];e.splice(d,1);break}}h&&(h.fn=c.Util.falseFn)}},fire:function(a,b,g){if(!this.listens(a,g))return this;b=c.Util.extend({},b,{type:a,target:this});var d=this._events;if(d){var e,f,h=d[a+"_idx"];if(d[a]){e=d[a].slice();a=0;for(d=e.length;d>a;a++)e[a].fn.call(this,b)}for(f in h)h[f].fn.call(h[f].ctx,b)}return g&&this._propagateEvent(b),this},listens:function(a,b){var c=this._events;if(c&&(c[a]||c[a+"_len"]))return!0;if(b)for(var d in this._eventParents)if(this._eventParents[d].listens(a))return!0;
return!1},once:function(a,b,g){if("object"==typeof a){for(var d in a)this.once(d,a[d],b);return this}var e=c.bind(function(){this.off(a,b,g).off(a,e,g)},this);return this.on(a,b,g).on(a,e,g)},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[c.stamp(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[c.stamp(a)],this},_propagateEvent:function(a){for(var b in this._eventParents)this._eventParents[b].fire(a.type,
c.extend({layer:a.target},a))}});var k=c.Evented.prototype;k.addEventListener=k.on;k.removeEventListener=k.clearAllEventListeners=k.off;k.addOneTimeEventListener=k.once;k.fireEvent=k.fire;k.hasEventListeners=k.listens;c.Mixin={Events:k};(function(){var a=navigator.userAgent.toLowerCase(),b=e.documentElement,g="ActiveXObject"in d,p=-1!==a.indexOf("webkit"),f=-1!==a.indexOf("phantom"),h=-1!==a.search("android [23]"),k="undefined"!=typeof orientation,n=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&
!d.PointerEvent,q=d.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints||n,B=g&&"transition"in b.style,w="WebKitCSSMatrix"in d&&"m11"in new d.WebKitCSSMatrix&&!h,L="MozPerspective"in b.style,b="OTransition"in b.style,C="devicePixelRatio"in d&&1<d.devicePixelRatio;!C&&"matchMedia"in d&&(C=(C=d.matchMedia("(min-resolution:144dpi)"))&&C.matches);var I=!d.L_NO_TOUCH&&!f&&(q||"ontouchstart"in d||d.DocumentTouch&&e instanceof d.DocumentTouch);c.Browser={ie:g,ielt9:g&&!e.addEventListener,webkit:p,
gecko:-1!==a.indexOf("gecko")&&!p&&!d.opera&&!g,android:-1!==a.indexOf("android"),android23:h,chrome:-1!==a.indexOf("chrome"),ie3d:B,webkit3d:w,gecko3d:L,opera3d:b,any3d:!d.L_DISABLE_3D&&(B||w||L||b)&&!f,mobile:k,mobileWebkit:k&&p,mobileWebkit3d:k&&w,mobileOpera:k&&d.opera,touch:!!I,msPointer:!!n,pointer:!!q,retina:!!C}})();c.Point=function(a,b,c){this.x=c?Math.round(a):a;this.y=c?Math.round(b):b};c.Point.prototype={clone:function(){return new c.Point(this.x,this.y)},add:function(a){return this.clone()._add(c.point(a))},
_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(c.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),
this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(a){a=c.point(a);var b=a.x-this.x;a=a.y-this.y;return Math.sqrt(b*b+a*a)},equals:function(a){return a=c.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=c.point(a),Math.abs(a.x)<=
Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+c.Util.formatNum(this.x)+", "+c.Util.formatNum(this.y)+")"}};c.point=function(a,b,g){return a instanceof c.Point?a:c.Util.isArray(a)?new c.Point(a[0],a[1]):a===f||null===a?a:new c.Point(a,b,g)};c.Bounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])};c.Bounds.prototype={extend:function(a){return a=c.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,
this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new c.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new c.Point(this.min.x,this.max.y)},getTopRight:function(){return new c.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var b,g;return a="number"==typeof a[0]||a instanceof c.Point?c.point(a):
c.bounds(a),a instanceof c.Bounds?(b=a.min,g=a.max):b=g=a,b.x>=this.min.x&&g.x<=this.max.x&&b.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=c.bounds(a);var b=this.min,g=this.max,d=a.min;a=a.max;var e=a.y>=b.y&&d.y<=g.y;return a.x>=b.x&&d.x<=g.x&&e},isValid:function(){return!(!this.min||!this.max)}};c.bounds=function(a,b){return!a||a instanceof c.Bounds?a:new c.Bounds(a,b)};c.Transformation=function(a,b,c,d){this._a=a;this._b=b;this._c=c;this._d=d};c.Transformation.prototype={transform:function(a,
b){return this._transform(a.clone(),b)},_transform:function(a,b){return b=b||1,a.x=b*(this._a*a.x+this._b),a.y=b*(this._c*a.y+this._d),a},untransform:function(a,b){return b=b||1,new c.Point((a.x/b-this._b)/this._a,(a.y/b-this._d)/this._c)}};c.DomUtil={get:function(a){return"string"==typeof a?e.getElementById(a):a},getStyle:function(a,b){var c=a.style[b]||a.currentStyle&&a.currentStyle[b];if((!c||"auto"===c)&&e.defaultView)c=(c=e.defaultView.getComputedStyle(a,null))?c[b]:null;return"auto"===c?null:
c},create:function(a,b,c){a=e.createElement(a);return a.className=b,c&&c.appendChild(a),a},remove:function(a){var b=a.parentNode;b&&b.removeChild(a)},toFront:function(a){a.parentNode.appendChild(a)},toBack:function(a){var b=a.parentNode;b.insertBefore(a,b.firstChild)},hasClass:function(a,b){if(a.classList!==f)return a.classList.contains(b);var g=c.DomUtil.getClass(a);return 0<g.length&&RegExp("(^|\\s)"+b+"(\\s|$)").test(g)},addClass:function(a,b){if(a.classList!==f)for(var g=c.Util.splitWords(b),
d=0,e=g.length;e>d;d++)a.classList.add(g[d]);else c.DomUtil.hasClass(a,b)||(g=c.DomUtil.getClass(a),c.DomUtil.setClass(a,(g?g+" ":"")+b))},removeClass:function(a,b){a.classList!==f?a.classList.remove(b):c.DomUtil.setClass(a,c.Util.trim((" "+c.DomUtil.getClass(a)+" ").replace(" "+b+" "," ")))},setClass:function(a,b){a.className.baseVal===f?a.className=b:a.className.baseVal=b},getClass:function(a){return a.className.baseVal===f?a.className:a.className.baseVal},setOpacity:function(a,b){if("opacity"in
a.style)a.style.opacity=b;else if("filter"in a.style){var c=!1;try{c=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){if(1===b)return}b=Math.round(100*b);c?(c.Enabled=100!==b,c.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"}},testProp:function(a){for(var b=e.documentElement.style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1},getTranslateString:function(a){var b=c.Browser.webkit3d;return"translate"+(b?"3d(":"(")+a.x+"px,"+a.y+"px"+(b?",0)":")")},
getScaleString:function(a,b){return c.DomUtil.getTranslateString(b.multiplyBy(1-a))+" scale("+a+") "},setPosition:function(a,b,g){a._leaflet_pos=b;!g&&c.Browser.any3d?a.style[c.DomUtil.TRANSFORM]=c.DomUtil.getTranslateString(b):(a.style.left=b.x+"px",a.style.top=b.y+"px")},getPosition:function(a){return a._leaflet_pos}};(function(){c.DomUtil.TRANSFORM=c.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var a=c.DomUtil.TRANSITION=c.DomUtil.testProp(["webkitTransition",
"transition","OTransition","MozTransition","msTransition"]);if(c.DomUtil.TRANSITION_END="webkitTransition"===a||"OTransition"===a?a+"End":"transitionend","onselectstart"in e)c.DomUtil.disableTextSelection=function(){c.DomEvent.on(d,"selectstart",c.DomEvent.preventDefault)},c.DomUtil.enableTextSelection=function(){c.DomEvent.off(d,"selectstart",c.DomEvent.preventDefault)};else{var b=c.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);c.DomUtil.disableTextSelection=
function(){if(b){var a=e.documentElement.style;this._userSelect=a[b];a[b]="none"}};c.DomUtil.enableTextSelection=function(){b&&(e.documentElement.style[b]=this._userSelect,delete this._userSelect)}}c.DomUtil.disableImageDrag=function(){c.DomEvent.on(d,"dragstart",c.DomEvent.preventDefault)};c.DomUtil.enableImageDrag=function(){c.DomEvent.off(d,"dragstart",c.DomEvent.preventDefault)}})();c.LatLng=function(a,b,c){if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=+a;
this.lng=+b;c!==f&&(this.alt=+c)};c.LatLng.prototype={equals:function(a,b){if(!a)return!1;a=c.latLng(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return(b===f?1E-9:b)>=g},toString:function(a){return"LatLng("+c.Util.formatNum(this.lat,a)+", "+c.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=c.latLng(a);var b=Math.PI/180,g=(a.lng-this.lng)*b,d=this.lat*b,e=a.lat*b;a=Math.sin((a.lat-this.lat)*b/2);g=Math.sin(g/2);d=a*a+g*g*Math.cos(d)*Math.cos(e);return 12756274*Math.atan2(Math.sqrt(d),
Math.sqrt(1-d))}};c.latLng=function(a,b){return a instanceof c.LatLng?a:c.Util.isArray(a)&&"object"!=typeof a[0]?3===a.length?new c.LatLng(a[0],a[1],a[2]):new c.LatLng(a[0],a[1]):a===f||null===a?a:"object"==typeof a&&"lat"in a?new c.LatLng(a.lat,"lng"in a?a.lng:a.lon):b===f?null:new c.LatLng(a,b)};c.LatLngBounds=function(a,b){if(a)for(var c=b?[a,b]:a,d=0,e=c.length;e>d;d++)this.extend(c[d])};c.LatLngBounds.prototype={extend:function(a){if(!a)return this;var b=c.latLng(a);return a=null!==b?b:c.latLngBounds(a),
a instanceof c.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new c.LatLng(a.lat,a.lng),this._northEast=new c.LatLng(a.lat,a.lng)):a instanceof c.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(a){var b=this._southWest,g=this._northEast,
d=Math.abs(b.lat-g.lat)*a;a*=Math.abs(b.lng-g.lng);return new c.LatLngBounds(new c.LatLng(b.lat-d,b.lng-a),new c.LatLng(g.lat+d,g.lng+a))},getCenter:function(){return new c.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new c.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new c.LatLng(this.getSouth(),
this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof c.LatLng?c.latLng(a):c.latLngBounds(a);var b,g,d=this._southWest,e=this._northEast;return a instanceof c.LatLngBounds?(b=a.getSouthWest(),g=a.getNorthEast()):b=g=a,b.lat>=d.lat&&g.lat<=e.lat&&b.lng>=d.lng&&g.lng<=e.lng},intersects:function(a){a=
c.latLngBounds(a);var b=this._southWest,g=this._northEast,d=a.getSouthWest();a=a.getNorthEast();var e=a.lng>=b.lng&&d.lng<=g.lng;return a.lat>=b.lat&&d.lat<=g.lat&&e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){return a?(a=c.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}};c.latLngBounds=function(a,b){return!a||
a instanceof c.LatLngBounds?a:new c.LatLngBounds(a,b)};c.Projection={};c.Projection.LonLat={project:function(a){return new c.Point(a.lng,a.lat)},unproject:function(a){return new c.LatLng(a.y,a.x)},bounds:c.bounds([-180,-90],[180,90])};c.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,R:6378137,project:function(a){var b=Math.PI/180,g=this.MAX_LATITUDE,d=this.R*a.lng*b;a=Math.max(Math.min(g,a.lat),-g)*b;return a=this.R*Math.log(Math.tan(Math.PI/4+a/2)),new c.Point(d,a)},unproject:function(a){var b=
180/Math.PI,g=a.x*b/this.R;a=(2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*b;return new c.LatLng(a,g)},bounds:function(){var a=6378137*Math.PI;return c.bounds([-a,-a],[a,a])}()};c.CRS={latLngToPoint:function(a,b){var c=this.projection.project(a),d=this.scale(b);return this.transformation._transform(c,d)},pointToLatLng:function(a,b){var c=this.scale(b),c=this.transformation.untransform(a,c);return this.projection.unproject(c)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},
scale:function(a){return 256*Math.pow(2,a)},getProjectedBounds:function(a){if(this.infinite)return null;var b=this.projection.bounds,g=this.scale(a);a=this.transformation.transform(b.min,g);b=this.transformation.transform(b.max,g);return c.bounds(a,b)},wrapLatLng:function(a){var b=this.wrapLng?c.Util.wrapNum(a.lng,this.wrapLng,!0):a.lng;a=this.wrapLat?c.Util.wrapNum(a.lat,this.wrapLat,!0):a.lat;return c.latLng(a,b)}};c.CRS.Simple=c.extend({},c.CRS,{projection:c.Projection.LonLat,transformation:new c.Transformation(1,
0,-1,0),scale:function(a){return Math.pow(2,a)},infinite:!0});c.CRS.EPSG3857=c.extend({},c.CRS,{code:"EPSG:3857",projection:c.Projection.SphericalMercator,transformation:function(){var a=0.5/(Math.PI*c.Projection.SphericalMercator.R);return new c.Transformation(a,0.5,-a,0.5)}(),wrapLng:[-180,180]});c.CRS.EPSG900913=c.extend({},c.CRS.EPSG3857,{code:"EPSG:900913"});c.CRS.EPSG4326=c.extend({},c.CRS,{code:"EPSG:4326",projection:c.Projection.LonLat,transformation:new c.Transformation(1/180,1,-1/180,0.5),
wrapLng:[-180,180]});c.Map=c.Evented.extend({options:{crs:c.CRS.EPSG3857,fadeAnimation:!0,trackResize:!0,markerZoomAnimation:!0},initialize:function(a,b){b=c.setOptions(this,b);this._initContainer(a);this._initLayout();this._onResize=c.bind(this._onResize,this);this._initEvents();b.maxBounds&&this.setMaxBounds(b.maxBounds);b.center&&b.zoom!==f&&this.setView(c.latLng(b.center),b.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this.callInitHooks();this._addLayers(this.options.layers)},
setView:function(a,b){return b=b===f?this.getZoom():b,this._resetView(c.latLng(a),this._limitZoom(b)),this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,b,g){var d=this.getZoomScale(b),e=this.getSize().divideBy(2);a=(a instanceof c.Point?a:this.latLngToContainerPoint(a)).subtract(e).multiplyBy(1-
1/d);e=this.containerPointToLatLng(e.add(a));return this.setView(e,b,{zoom:g})},fitBounds:function(a,b){b=b||{};a=a.getBounds?a.getBounds():c.latLngBounds(a);var g=c.point(b.paddingTopLeft||b.padding||[0,0]),d=c.point(b.paddingBottomRight||b.padding||[0,0]),e=this.getBoundsZoom(a,!1,g.add(d)),g=d.subtract(g).divideBy(2),d=this.project(a.getSouthWest(),e),f=this.project(a.getNorthEast(),e),g=this.unproject(d.add(f).divideBy(2).add(g),e);return e=b&&b.maxZoom?Math.min(b.maxZoom,e):e,this.setView(g,
e,b)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(c.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=c.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):this.off("moveend",this._panInsideMaxBounds)},panInsideBounds:function(a,b){var c=
this.getCenter(),d=this._limitCenter(c,this._zoom,a);return c.equals(d)?this:this.panTo(d,b)},invalidateSize:function(a){if(!this._loaded)return this;a=c.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var b=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var g=this.getSize(),d=b.divideBy(2).round(),e=g.divideBy(2).round(),d=d.subtract(e);return d.x||d.y?(a.animate&&a.pan?this.panBy(d):(a.pan&&this._rawPanBy(d),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=
setTimeout(c.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:g})):this},addHandler:function(a,b){if(!b)return this;var c=this[a]=new b(this);return this._handlers.push(c),this.options[a]&&c.enable(),this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=f}return c.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),
this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),b=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new c.LatLngBounds(b,a)},getMinZoom:function(){return this.options.minZoom===f?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===
f?this._layersMaxZoom===f?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,b,g){a=c.latLngBounds(a);var d,e=this.getMinZoom()-(b?1:0),f=this.getMaxZoom(),h=this.getSize(),n=a.getNorthWest();a=a.getSouthEast();d=!0;g=c.point(g||[0,0]);do e++,d=this.project(a,e).subtract(this.project(n,e)).add(g),d=b?d.x<h.x||d.y<h.y:h.contains(d);while(d&&f>=e);return d&&b?null:b?e:e-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new c.Point(this._container.clientWidth,
this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new c.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPixelWorldBounds:function(){return this.options.crs.getProjectedBounds(this.getZoom())},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/
b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,b){return b=b===f?this._zoom:b,this.options.crs.latLngToPoint(c.latLng(a),b)},unproject:function(a,b){return b=b===f?this._zoom:b,this.options.crs.pointToLatLng(c.point(a),b)},layerPointToLatLng:function(a){a=c.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(c.latLng(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(a)},
containerPointToLayerPoint:function(a){return c.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return c.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(c.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(c.latLng(a)))},mouseEventToContainerPoint:function(a){return c.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},
mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){a=this._container=c.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&c.Browser.any3d;c.DomUtil.addClass(a,"leaflet-container"+(c.Browser.touch?" leaflet-touch":"")+(c.Browser.retina?" leaflet-retina":
"")+(c.Browser.ielt9?" leaflet-oldie":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=c.DomUtil.getStyle(a,"position");"absolute"!==b&&"relative"!==b&&"fixed"!==b&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);a.tilePane=this._createPane("leaflet-tile-pane");a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=
this._createPane("leaflet-overlay-pane");a.markerPane=this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(c.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),c.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),c.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,b){return c.DomUtil.create("div",a,b||this._mapPane)},_resetView:function(a,b,g,d){var e=this._zoom!==b;d||(this.fire("movestart"),e&&this.fire("zoomstart"));
this._zoom=b;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);g?this._initialTopLeftPoint._add(this._getMapPanePos()):c.DomUtil.setPosition(this._mapPane,new c.Point(0,0));a=!this._loaded;this._loaded=!0;a&&this.fire("load");this.fire("viewreset",{hard:!g});this.fire("move");(e||d)&&this.fire("zoomend");this.fire("moveend",{hard:!g})},_rawPanBy:function(a){c.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-
this.getMinZoom()},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(c.DomEvent){a=a||"on";for(var b="click dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" "),g=0,e=b.length;e>g;g++)c.DomEvent[a](this._container,b[g],this._handleMouseEvent,this);this.options.trackResize&&c.DomEvent[a](d,"resize",this._onResize,this)}},_onResize:function(){c.Util.cancelAnimFrame(this._resizeRequest);
this._resizeRequest=c.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_handleMouseEvent:function(a){this._loaded&&this._fireMouseEvent(this,a,"mouseenter"===a.type?"mouseover":"mouseleave"===a.type?"mouseout":a.type)},_fireMouseEvent:function(a,b,g,d,e){if(g=g||b.type,"click"===g){if(!b._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved()))return;a.fire("preclick")}a.listens(g,d)&&!c.DomEvent._skipped(b)&&("contextmenu"===
g&&c.DomEvent.preventDefault(b),("click"===g||"dblclick"===g||"contextmenu"===g)&&c.DomEvent.stopPropagation(b),b={originalEvent:b,containerPoint:this.mouseEventToContainerPoint(b)},b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=e||this.layerPointToLatLng(b.layerPoint),a.fire(g,b,d))},_clearHandlers:function(){for(var a=0,b=this._handlers.length;b>a;a++)this._handlers[a].disable()},whenReady:function(a,b){return this._loaded?a.call(b||this,this):this.on("load",a,b),this},
_getMapPanePos:function(){return c.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(a,b){var c=this.getSize()._divideBy(2);return this.project(a,b)._subtract(c)._round()},_latLngToNewLayerPoint:function(a,b,c){c=this._getNewTopLeftPoint(c,b).add(this._getMapPanePos());return this.project(a,b)._subtract(c)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},
_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,b,g){if(!g)return a;a=this.project(a,b);var d=this.getSize().divideBy(2),d=new c.Bounds(a.subtract(d),a.add(d));g=this._getBoundsOffset(d,g,b);return this.unproject(a.add(g),b)},_limitOffset:function(a,b){if(!b)return a;var g=this.getPixelBounds(),g=new c.Bounds(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(g,b))},_getBoundsOffset:function(a,b,g){var d=this.project(b.getNorthWest(),
g).subtract(a.min);b=this.project(b.getSouthEast(),g).subtract(a.max);a=this._rebound(d.x,-b.x);d=this._rebound(d.y,-b.y);return new c.Point(a,d)},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),c=this.getMaxZoom();return Math.max(b,Math.min(c,a))}});c.map=function(a,b){return new c.Map(a,b)};c.Layer=c.Evented.extend({options:{pane:"overlayPane"},addTo:function(a){var b=c.stamp(this);return a._layers[b]?
this:(a._layers[b]=this,this._zoomAnimated=a._zoomAnimated,this.beforeAdd&&this.beforeAdd(a),this._mapToAdd=a,a.whenReady(this._layerAdd,this),this)},_layerAdd:function(){var a=this._mapToAdd;a&&(this._map=a,this._mapToAdd=null,this.onAdd(a),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.getEvents&&a.on(this.getEvents(),this),this.fire("add"),a.fire("layeradd",{layer:this}))},remove:function(){var a=c.stamp(this),b=this._map||
this._mapToAdd;return b&&b._layers[a]?(b._loaded&&this.onRemove(b),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(this.getAttribution()),this.getEvents&&b.off(this.getEvents(),this),delete b._layers[a],b._loaded&&(b.fire("layerremove",{layer:this}),this.fire("remove")),this._map=this._mapToAdd=null,this):this},getPane:function(a){return this._map._panes[a?this.options[a]||a:this.options.pane]}});c.Map.include({addLayer:function(a){return a.addTo(this),
this},removeLayer:function(a){return a.remove(),this},hasLayer:function(a){return!!a&&c.stamp(a)in this._layers},eachLayer:function(a,b){for(var c in this._layers)a.call(b,this._layers[c]);return this},_addLayers:function(a){a=a?c.Util.isArray(a)?a:[a]:[];for(var b=0,d=a.length;d>b;b++)this.addLayer(a[b])},_addZoomLimit:function(a){(isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[c.stamp(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){a=c.stamp(a);this._zoomBoundLayers[a]&&
(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,b=-1/0,c=this._getZoomSpan(),d;for(d in this._zoomBoundLayers)var e=this._zoomBoundLayers[d].options,a=e.minZoom===f?a:Math.min(a,e.minZoom),b=e.maxZoom===f?b:Math.max(b,e.maxZoom);this._layersMaxZoom=b===-1/0?f:b;this._layersMinZoom=1/0===a?f:a;c!==this._getZoomSpan()&&this.fire("zoomlevelschange")}});c.GridLayer=c.Layer.extend({options:{pane:"tilePane",tileSize:256,opacity:1,unloadInvisibleTiles:c.Browser.mobile,
updateWhenIdle:c.Browser.mobile,updateInterval:150},initialize:function(a){c.setOptions(this,a)},onAdd:function(){this._initContainer();this.options.updateWhenIdle||(this._update=c.Util.throttle(this._update,this.options.updateInterval,this));this._reset();this._update()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._clearBgBuffer();c.DomUtil.remove(this._container);a._removeZoomLimit(this);this._container=null},bringToFront:function(){return this._map&&(c.DomUtil.toFront(this._container),
this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(c.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),
this},getEvents:function(){var a={viewreset:this._reset,moveend:this._update};return this.options.updateWhenIdle||(a.move=this._update),this._zoomAnimated&&(a.zoomanim=this._animateZoom,a.zoomend=this._endZoomAnim),a},_updateZIndex:function(){this._container&&this.options.zIndex!==f&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var b,c=this.getPane().children,d=-a(-1/0,1/0),e=0,f=c.length;f>e;e++)b=c[e].style.zIndex,c[e]!==this._container&&b&&(d=a(d,+b));isFinite(d)&&
(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){var a=this.options.opacity;if(c.Browser.ielt9)for(var b in this._tiles)c.DomUtil.setOpacity(this._tiles[b],a);else c.DomUtil.setOpacity(this._container,a)},_initContainer:function(){this._container||((this._container=c.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._zoomAnimated)?(this._bgBuffer=c.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),this._tileContainer=
c.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container)):this._tileContainer=this._container,1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={};this._tilesToLoad=0;this._tileContainer.innerHTML="";this._zoomAnimated&&a&&a.hard&&this._clearBgBuffer();this._tileNumBounds=this._getTileNumBounds();this._resetWrap()},_resetWrap:function(){var a=
this._map,b=a.options.crs;if(!b.infinite){var c=this._getTileSize();b.wrapLng&&(this._wrapLng=[Math.floor(a.project([0,b.wrapLng[0]]).x/c),Math.ceil(a.project([0,b.wrapLng[1]]).x/c)]);b.wrapLat&&(this._wrapLat=[Math.floor(a.project([b.wrapLat[0],0]).y/c),Math.ceil(a.project([b.wrapLat[1],0]).y/c)])}},_getTileSize:function(){return this.options.tileSize},_update:function(){if(this._map){var a=this._map.getPixelBounds(),b=this._map.getZoom(),d=this._getTileSize();b>this.options.maxZoom||b<this.options.minZoom||
(a=c.bounds(a.min.divideBy(d).floor(),a.max.divideBy(d).floor()),this._addTiles(a),this.options.unloadInvisibleTiles&&this._removeOtherTiles(a))}},_addTiles:function(a){var b,d,f,l=[],h=a.getCenter(),k=this._map.getZoom();for(b=a.min.y;b<=a.max.y;b++)for(d=a.min.x;d<=a.max.x;d++)f=new c.Point(d,b),f.z=k,this._tileCoordsToKey(f)in this._tiles||!this._isValidTile(f)||l.push(f);a=l.length;if(0!==a){this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;l.sort(function(a,b){return a.distanceTo(h)-
b.distanceTo(h)});b=e.createDocumentFragment();for(d=0;a>d;d++)this._addTile(l[d],b);this._tileContainer.appendChild(b)}},_isValidTile:function(a){var b=this._map.options.crs;if(!b.infinite){var d=this._tileNumBounds;if(!b.wrapLng&&(a.x<d.min.x||a.x>d.max.x)||!b.wrapLat&&(a.y<d.min.y||a.y>d.max.y))return!1}if(!this.options.bounds)return!0;a=this._tileCoordsToBounds(a);return c.latLngBounds(this.options.bounds).intersects(a)},_tileCoordsToBounds:function(a){var b=this._map,d=this.options.tileSize,
e=a.multiplyBy(d),d=e.add([d,d]),e=b.wrapLatLng(b.unproject(e,a.z));a=b.wrapLatLng(b.unproject(d,a.z));return new c.LatLngBounds(e,a)},_tileCoordsToKey:function(a){return a.x+":"+a.y},_keyToTileCoords:function(a){var b=a.split(":");a=parseInt(b[0],10);b=parseInt(b[1],10);return new c.Point(a,b)},_removeOtherTiles:function(a){for(var b in this._tiles)a.contains(this._keyToTileCoords(b))||this._removeTile(b)},_removeTile:function(a){var b=this._tiles[a];c.DomUtil.remove(b);delete this._tiles[a];this.fire("tileunload",
{tile:b})},_initTile:function(a){var b=this._getTileSize();c.DomUtil.addClass(a,"leaflet-tile");a.style.width=b+"px";a.style.height=b+"px";a.onselectstart=c.Util.falseFn;a.onmousemove=c.Util.falseFn;c.Browser.ielt9&&1>this.options.opacity&&c.DomUtil.setOpacity(a,this.options.opacity);c.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden")},_addTile:function(a,b){var d=this._getTilePos(a);this._wrapCoords(a);var e=this.createTile(a,c.bind(this._tileReady,this));this._initTile(e);2>this.createTile.length&&
setTimeout(c.bind(this._tileReady,this,null,e),0);c.DomUtil.setPosition(e,d,c.Browser.chrome);this._tiles[this._tileCoordsToKey(a)]=e;b.appendChild(e);this.fire("tileloadstart",{tile:e})},_tileReady:function(a,b){a&&this.fire("tileerror",{error:a,tile:b});c.DomUtil.addClass(b,"leaflet-tile-loaded");this.fire("tileload",{tile:b});this._tilesToLoad--;0===this._tilesToLoad&&this._visibleTilesReady()},_visibleTilesReady:function(){this.fire("load");this._zoomAnimated&&(clearTimeout(this._clearBgBufferTimer),
this._clearBgBufferTimer=setTimeout(c.bind(this._clearBgBuffer,this),300))},_getTilePos:function(a){return a.multiplyBy(this._getTileSize()).subtract(this._map.getPixelOrigin())},_wrapCoords:function(a){a.x=this._wrapLng?c.Util.wrapNum(a.x,this._wrapLng):a.x;a.y=this._wrapLat?c.Util.wrapNum(a.y,this._wrapLat):a.y},_getTileNumBounds:function(){var a=this._map.getPixelWorldBounds(),b=this._getTileSize();return a?c.bounds(a.min.divideBy(b).floor(),a.max.divideBy(b).ceil().subtract([1,1])):null},_animateZoom:function(a){this._animating||
(this._animating=!0,this._prepareBgBuffer());var b=this._bgBuffer,d=c.DomUtil.TRANSFORM,e=a.delta?c.DomUtil.getTranslateString(a.delta):b.style[d],f=c.DomUtil.getScaleString(a.scale,a.origin);b.style[d]=a.backwards?f+" "+e:e+" "+f},_endZoomAnim:function(){var a=this._tileContainer,b=this._bgBuffer;a.style.visibility="";c.DomUtil.toFront(a);c.Util.falseFn(b.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML=
"",this._bgBuffer.style[c.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){this._swapBgBuffer()},_swapBgBuffer:function(){var a=this._tileContainer,b=this._bgBuffer;b.style.visibility="hidden";b.style[c.DomUtil.TRANSFORM]="";this._tileContainer=b;this._bgBuffer=a;clearTimeout(this._clearBgBufferTimer)}});c.gridLayer=function(a){return new c.GridLayer(a)};c.TileLayer=c.GridLayer.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",zoomOffset:0},initialize:function(a,b){this._url=a;b=c.setOptions(this,
b);b.detectRetina&&c.Browser.retina&&0<b.maxZoom&&(b.tileSize=Math.floor(b.tileSize/2),b.zoomOffset++,b.minZoom=Math.max(0,b.minZoom),b.maxZoom--);"string"==typeof b.subdomains&&(b.subdomains=b.subdomains.split(""))},setUrl:function(a,b){return this._url=a,b||this.redraw(),this},createTile:function(a,b){var d=e.createElement("img");return d.onload=c.bind(this._tileOnLoad,this,b,d),d.onerror=c.bind(this._tileOnError,this,b,d),d.src=this.getTileUrl(a),d},getTileUrl:function(a){return c.Util.template(this._url,
c.extend({r:this.options.detectRetina&&c.Browser.retina&&0<this.options.maxZoom?"@2x":"",s:this._getSubdomain(a),x:a.x,y:this.options.tms?this._tileNumBounds.max.y-a.y:a.y,z:this._getZoomForUrl()},this.options))},_tileOnLoad:function(a,b){a(null,b)},_tileOnError:function(a,b,c){var d=this.options.errorTileUrl;d&&(b.src=d);a(c,b)},_getTileSize:function(){var a=this._map,b=this.options,c=a.getZoom()+b.zoomOffset,d=b.maxNativeZoom;return d&&c>d?Math.round(a.getZoomScale(c)/a.getZoomScale(d)*b.tileSize):
b.tileSize},_removeTile:function(a){var b=this._tiles[a];c.GridLayer.prototype._removeTile.call(this,a);c.Browser.android||(b.onload=null,b.src=c.Util.emptyImageUrl)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();return a.zoomReverse&&(b=a.maxZoom-b),b+=a.zoomOffset,a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_prepareBgBuffer:function(){var a=this._tileContainer,
b=this._bgBuffer,c=this._getLoadedTilesPercentage(b),d=this._getLoadedTilesPercentage(a);return b&&0.5<c&&0.5>d?(a.style.visibility="hidden",this._stopLoadingImages(a),void 0):(this._swapBgBuffer(),this._stopLoadingImages(b),void 0)},_getLoadedTilesPercentage:function(a){var b,c=a.getElementsByTagName("img"),d=0;a=0;for(b=c.length;b>a;a++)c[a].complete&&d++;return d/b},_stopLoadingImages:function(a){var b,d,e=Array.prototype.slice.call(a.getElementsByTagName("img"));a=0;for(b=e.length;b>a;a++)d=e[a],
d.complete||(d.onload=c.Util.falseFn,d.onerror=c.Util.falseFn,d.src=c.Util.emptyImageUrl,c.DomUtil.remove(d))}});c.tileLayer=function(a,b){return new c.TileLayer(a,b)};c.Icon=c.Class.extend({initialize:function(a){c.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var c=this._getIconUrl(a);if(!c){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}c=
this._createImg(c,b&&"IMG"===b.tagName?b:null);return this._setIconStyles(c,a),c},_setIconStyles:function(a,b){var d=this.options,e=c.point(d[b+"Size"]),f=c.point("shadow"===b&&d.shadowAnchor||d.iconAnchor||e&&e.divideBy(2,!0));a.className="leaflet-marker-"+b+" "+(d.className||"");f&&(a.style.marginLeft=-f.x+"px",a.style.marginTop=-f.y+"px");e&&(a.style.width=e.x+"px",a.style.height=e.y+"px")},_createImg:function(a,b){return b=b||e.createElement("img"),b.src=a,b},_getIconUrl:function(a){return c.Browser.retina&&
this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});c.icon=function(a){return new c.Icon(a)};c.Icon.Default=c.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var b=a+"Url";if(this.options[b])return this.options[b];b=c.Icon.Default.imagePath;if(!b)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return b+"/marker-"+a+(c.Browser.retina&&"icon"===a?"-2x":"")+".png"}});c.Icon.Default.imagePath=function(){var a,
b,c,d,f=e.getElementsByTagName("script"),h=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;a=0;for(b=f.length;b>a;a++)if(c=f[a].src,c.match(h))return d=c.split(h)[0],(d?d+"/":"")+"images"}();c.Marker=c.Layer.extend({options:{pane:"markerPane",icon:new c.Icon.Default,clickable:!0,keyboard:!0,zIndexOffset:0,opacity:1,riseOffset:250},initialize:function(a,b){c.setOptions(this,b);this._latlng=c.latLng(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation;this._initIcon();
this.update()},onRemove:function(){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow()},getEvents:function(){var a={viewreset:this.update};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=c.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},setIcon:function(a){return this.options.icon=
a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=a.icon.createIcon(this._icon),e=!1;d!==this._icon&&(this._icon&&this._removeIcon(),e=!0,a.title&&(d.title=a.title),a.alt&&(d.alt=a.alt));c.DomUtil.addClass(d,b);a.keyboard&&(d.tabIndex="0");
this._icon=d;this._initInteraction();a.riseOnHover&&c.DomEvent.on(d,"mouseover",this._bringToFront,this).on(d,"mouseout",this._resetZIndex,this);var d=a.icon.createShadow(this._shadow),f=!1;d!==this._shadow&&(this._removeShadow(),f=!0);d&&c.DomUtil.addClass(d,b);this._shadow=d;1>a.opacity&&this._updateOpacity();e&&this.getPane().appendChild(this._icon);d&&f&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&c.DomEvent.off(this._icon,"mouseover",
this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);c.DomUtil.remove(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&c.DomUtil.remove(this._shadow);this._shadow=null},_setPos:function(a){c.DomUtil.setPosition(this._icon,a);this._shadow&&c.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,
a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.clickable){c.DomUtil.addClass(this._icon,"leaflet-clickable");for(var a="click dblclick mousedown mouseup mouseover mouseout contextmenu keypress".split(" "),b=0;b<a.length;b++)c.DomEvent.on(this._icon,a[b],this._fireMouseEvent,this);c.Handler.MarkerDrag&&(this.dragging=new c.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_fireMouseEvent:function(a,b){"mousedown"===a.type&&c.DomEvent.preventDefault(a);
"click"===a.type&&this.dragging&&this.dragging.moved()||("keypress"===a.type&&13===a.keyCode&&(b="click"),this._map._fireMouseEvent(this,a,b,!0,this._latlng))},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;c.DomUtil.setOpacity(this._icon,a);this._shadow&&c.DomUtil.setOpacity(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});
c.marker=function(a,b){return new c.Marker(a,b)};c.DomEvent={addListener:function(a,b,g,e){var f=b+c.stamp(g)+(e?"_"+c.stamp(e):"");if(a._leaflet_events&&a._leaflet_events[f])return this;var h=function(b){return g.call(e||a,b||d.event)},k=h;return c.Browser.pointer&&0===b.indexOf("touch")?this.addPointerListener(a,b,h,f):(c.Browser.touch&&"dblclick"===b&&this.addDoubleTapListener&&this.addDoubleTapListener(a,h,f),"addEventListener"in a?"mousewheel"===b?(a.addEventListener("DOMMouseScroll",h,!1),a.addEventListener(b,
h,!1)):"mouseenter"===b||"mouseleave"===b?(h=function(b){return b=b||d.event,c.DomEvent._checkMouse(a,b)?k(b):void 0},a.addEventListener("mouseenter"===b?"mouseover":"mouseout",h,!1)):("click"===b&&c.Browser.android&&(h=function(a){return c.DomEvent._filterClick(a,k)}),a.addEventListener(b,h,!1)):"attachEvent"in a&&a.attachEvent("on"+b,h),a._leaflet_events=a._leaflet_events||{},a._leaflet_events[f]=h,this)},removeListener:function(a,b,d,e){d=b+c.stamp(d)+(e?"_"+c.stamp(e):"");return(e=a._leaflet_events&&
a._leaflet_events[d])?(c.Browser.pointer&&0===b.indexOf("touch")?this.removePointerListener(a,b,d):c.Browser.touch&&"dblclick"===b&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===b?(a.removeEventListener("DOMMouseScroll",e,!1),a.removeEventListener(b,e,!1)):a.removeEventListener("mouseenter"===b?"mouseover":"mouseleave"===b?"mouseout":b,e,!1):"detachEvent"in a&&a.detachEvent("on"+b,e),a._leaflet_events[d]=null,this):this},stopPropagation:function(a){return a.stopPropagation?
a.stopPropagation():a.cancelBubble=!0,c.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var b=c.DomEvent.stopPropagation;return c.DomEvent.on(a,"mousewheel",b).on(a,"MozMousePixelScroll",b)},disableClickPropagation:function(a){for(var b=c.DomEvent.stopPropagation,d=c.Draggable.START.length-1;0<=d;d--)c.DomEvent.on(a,c.Draggable.START[d],b);return c.DomEvent.on(a,"click",c.DomEvent._fakeStop).on(a,"dblclick",b)},preventDefault:function(a){return a.preventDefault?a.preventDefault():
a.returnValue=!1,this},stop:function(a){return c.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,b){if(!b)return new c.Point(a.clientX,a.clientY);var d=b.getBoundingClientRect();return new c.Point(a.clientX-d.left-b.clientLeft,a.clientY-d.top-b.clientTop)},getWheelDelta:function(a){return 0},_skipEvents:{},_fakeStop:function(a){c.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,b},_checkMouse:function(a,
b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&c!==a;)c=c.parentNode}catch(d){return!1}return c!==a},_filterClick:function(a,b){var d=a.timeStamp||a.originalEvent.timeStamp,e=c.DomEvent._lastClick&&d-c.DomEvent._lastClick;return e&&100<e&&500>e||a.target._simulatedClick&&!a._simulated?(c.DomEvent.stop(a),void 0):(c.DomEvent._lastClick=d,b(a))}};c.DomEvent.on=c.DomEvent.addListener;c.DomEvent.off=c.DomEvent.removeListener;c.Draggable=c.Evented.extend({statics:{START:c.Browser.touch?["touchstart",
"mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=c.Draggable.START.length-1;0<=a;a--)c.DomEvent.on(this._dragStartTarget,c.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=
c.Draggable.START.length-1;0<=a;a--)c.DomEvent.off(this._dragStartTarget,c.Draggable.START[a],this._onDown,this);this._moved=this._enabled=!1}},_onDown:function(a){if(this._moved=!1,!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(c.DomEvent.stopPropagation(a),c.Draggable._disabled||(c.DomUtil.disableImageDrag(),c.DomUtil.disableTextSelection(),this._moving)))){var b=a.touches?a.touches[0]:a;this._startPoint=new c.Point(b.clientX,b.clientY);this._startPos=this._newPos=c.DomUtil.getPosition(this._element);
c.DomEvent.on(e,c.Draggable.MOVE[a.type],this._onMove,this).on(e,c.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&1<a.touches.length)return this._moved=!0,void 0;var b=a.touches&&1===a.touches.length?a.touches[0]:a,b=(new c.Point(b.clientX,b.clientY)).subtract(this._startPoint);(b.x||b.y)&&(c.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=c.DomUtil.getPosition(this._element).subtract(b),c.DomUtil.addClass(e.body,"leaflet-dragging"),
c.DomUtil.addClass(a.target||a.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,c.Util.cancelAnimFrame(this._animRequest),this._animRequest=c.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))},_updatePosition:function(){this.fire("predrag");c.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(a){c.DomUtil.removeClass(e.body,"leaflet-dragging");c.DomUtil.removeClass(a.target||a.srcElement,"leaflet-drag-target");
for(var b in c.Draggable.MOVE)c.DomEvent.off(e,c.Draggable.MOVE[b],this._onMove,this).off(e,c.Draggable.END[b],this._onUp,this);c.DomUtil.enableImageDrag();c.DomUtil.enableTextSelection();this._moved&&this._moving&&(c.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});c.Handler=c.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&
(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});c.Map.mergeOptions({dragging:!0,inertia:!c.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:c.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1});c.Map.Drag=c.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new c.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);
a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=
this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_onPreDrag:function(){var a=this._worldWidth,b=Math.round(a/2),c=this._initialWorldOffset,
d=this._draggable._newPos.x,e=(d-b+c)%a+b-c,a=(d+b+c)%a-b-c,c=Math.abs(e+c)<Math.abs(a+c)?e:a;this._draggable._newPos.x=c},_onDragEnd:function(a){var b=this._map,d=b.options,e=+new Date-this._lastTime,f=!d.inertia||e>d.inertiaThreshold||!this._positions[0];if(b.fire("dragend",a),f)b.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var h=d.easeLinearity;a=a.multiplyBy(h/((this._lastTime+e-this._times[0])/1E3));f=a.distanceTo([0,0]);e=Math.min(d.inertiaMaxSpeed,f);a=a.multiplyBy(e/
f);var k=e/(d.inertiaDeceleration*h),n=a.multiplyBy(-k/2).round();n.x&&n.y?(n=b._limitOffset(n,b.options.maxBounds),c.Util.requestAnimFrame(function(){b.panBy(n,{duration:k,easeLinearity:h,noMoveStart:!0})})):b.fire("moveend")}}});c.Map.addInitHook("addHandler","dragging",c.Map.Drag);c.Map.mergeOptions({doubleClickZoom:!0});c.Map.DoubleClickZoom=c.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,
this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});c.Map.addInitHook("addHandler","doubleClickZoom",c.Map.DoubleClickZoom);c.Map.mergeOptions({scrollWheelZoom:!0});c.Map.ScrollWheelZoom=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);c.DomEvent.on(this._map._container,"MozMousePixelScroll",c.DomEvent.preventDefault);
this._delta=0},removeHooks:function(){c.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this);c.DomEvent.off(this._map._container,"MozMousePixelScroll",c.DomEvent.preventDefault)},_onWheelScroll:function(a){var b=c.DomEvent.getWheelDelta(a);this._delta+=b;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);b=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(c.bind(this._performZoom,this),
b);c.DomEvent.preventDefault(a);c.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c;this._delta=0;this._startTime=null;b&&("center"===a.options.scrollWheelZoom?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b))}});c.Map.addInitHook("addHandler","scrollWheelZoom",c.Map.ScrollWheelZoom);c.extend(c.DomEvent,{_touchstart:c.Browser.msPointer?"MSPointerDown":c.Browser.pointer?
"pointerdown":"touchstart",_touchend:c.Browser.msPointer?"MSPointerUp":c.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,b,d){function f(a){var b;if(c.Browser.pointer?(B.push(a.pointerId),b=B.length):b=a.touches.length,!(1<b)){b=Date.now();var d=b-(k||b);y=a.touches?a.touches[0]:a;n=0<d&&q>=d;k=b}}function h(a){if(c.Browser.pointer){a=B.indexOf(a.pointerId);if(-1===a)return;B.splice(a,1)}if(n){if(c.Browser.pointer){var d,e={};for(d in y)a=y[d],e[d]=a&&a.bind?a.bind(y):a;y=e}y.type=
"dblclick";b(y);k=null}}var k,y,n=!1,q=250,B=[],w=this._touchstart,L=this._touchend;a["_leaflet_"+w+d]=f;a["_leaflet_"+L+d]=h;d=c.Browser.pointer?e.documentElement:a;return a.addEventListener(w,f,!1),d.addEventListener(L,h,!1),c.Browser.pointer&&d.addEventListener(c.DomEvent.POINTER_CANCEL,h,!1),this},removeDoubleTapListener:function(a,b){var d=c.Browser.pointer?e.documentElement:a,f=a["_leaflet_"+this._touchend+b];return a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+b],!1),
d.removeEventListener(this._touchend,f,!1),c.Browser.pointer&&d.removeEventListener(c.DomEvent.POINTER_CANCEL,f,!1),this}});c.extend(c.DomEvent,{POINTER_DOWN:c.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:c.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:c.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:c.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:{},addPointerListener:function(a,b,c,d){return"touchstart"===b?this._addPointerStart(a,c,d):"touchmove"===
b?this._addPointerMove(a,c,d):"touchend"===b&&this._addPointerEnd(a,c,d),this},removePointerListener:function(a,b,c){c=a["_leaflet_"+b+c];return"touchstart"===b?a.removeEventListener(this.POINTER_DOWN,c,!1):"touchmove"===b?a.removeEventListener(this.POINTER_MOVE,c,!1):"touchend"===b&&(a.removeEventListener(this.POINTER_UP,c,!1),a.removeEventListener(this.POINTER_CANCEL,c,!1)),this},_addPointerStart:function(a,b,d){var f=c.bind(function(a){c.DomEvent.preventDefault(a);this._pointers[a.pointerId]=a;
this._handlePointer(a,b)},this);if(a["_leaflet_touchstart"+d]=f,a.addEventListener(this.POINTER_DOWN,f,!1),!this._pointerDocListener)a=c.bind(function(a){delete this._pointers[a.pointerId]},this),e.documentElement.addEventListener(this.POINTER_UP,a,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,a,!1),this._pointerDocListener=!0},_handlePointer:function(a,b){a.touches=[];for(var c in this._pointers)a.touches.push(this._pointers[c]);a.changedTouches=[a];b(a)},_addPointerMove:function(a,
b,d){var e=c.bind(function(a){(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons)&&(this._pointers[a.pointerId]=a,this._handlePointer(a,b))},this);a["_leaflet_touchmove"+d]=e;a.addEventListener(this.POINTER_MOVE,e,!1)},_addPointerEnd:function(a,b,d){var e=c.bind(function(a){delete this._pointers[a.pointerId];this._handlePointer(a,b)},this);a["_leaflet_touchend"+d]=e;a.addEventListener(this.POINTER_UP,e,!1);a.addEventListener(this.POINTER_CANCEL,e,!1)}});c.Map.mergeOptions({touchZoom:c.Browser.touch&&
!c.Browser.android23,bounceAtZoomLimits:!0});c.Map.TouchZoom=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){c.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&!b._animatingZoom&&!this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),f=b.mouseEventToLayerPoint(a.touches[1]),h=b._getCenterLayerPoint();this._startCenter=
d.add(f)._divideBy(2);this._startDist=d.distanceTo(f);this._moved=!1;this._zooming=!0;this._centerOffset=h.subtract(this._startCenter);b._panAnim&&b._panAnim.stop();c.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this);c.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var b=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var d=b.mouseEventToLayerPoint(a.touches[0]),e=b.mouseEventToLayerPoint(a.touches[1]);this._scale=d.distanceTo(e)/this._startDist;
this._delta=d._add(e)._divideBy(2)._subtract(this._startCenter);1!==this._scale&&(b.options.bounceAtZoomLimits||!(b.getZoom()===b.getMinZoom()&&1>this._scale||b.getZoom()===b.getMaxZoom()&&1<this._scale))&&(this._moved||(c.DomUtil.addClass(b._mapPane,"leaflet-touching"),b.fire("movestart").fire("zoomstart"),this._moved=!0),c.Util.cancelAnimFrame(this._animRequest),this._animRequest=c.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),c.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=
this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),c=a.getScaleZoom(this._scale);a._animateZoom(b,c,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return this._zooming=!1,void 0;var a=this._map;this._zooming=!1;c.DomUtil.removeClass(a._mapPane,"leaflet-touching");c.Util.cancelAnimFrame(this._animRequest);c.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var b=this._getScaleOrigin(),d=a.layerPointToLatLng(b),
f=a.getZoom(),h=a.getScaleZoom(this._scale)-f,h=0<h?Math.ceil(h):Math.floor(h),f=a._limitZoom(f+h),h=a.getZoomScale(f)/this._scale;a._animateZoom(d,f,b,h)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});c.Map.addInitHook("addHandler","touchZoom",c.Map.TouchZoom);c.Map.mergeOptions({tap:!0,tapTolerance:15});c.Map.Tap=c.Handler.extend({addHooks:function(){c.DomEvent.on(this._map._container,"touchstart",this._onDown,
this)},removeHooks:function(){c.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches){if(c.DomEvent.preventDefault(a),this._fireClick=!0,1<a.touches.length)return this._fireClick=!1,clearTimeout(this._holdTimeout),void 0;var b=a.touches[0];a=b.target;this._startPos=this._newPos=new c.Point(b.clientX,b.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&c.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(c.bind(function(){this._isTapValid()&&
(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",b))},this),1E3);c.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(a){if(clearTimeout(this._holdTimeout),c.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var b=a.target;b&&b.tagName&&"a"===b.tagName.toLowerCase()&&c.DomUtil.removeClass(b,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",
a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new c.Point(a.clientX,a.clientY)},_simulateEvent:function(a,b){var c=e.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,d,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});c.Browser.touch&&!c.Browser.pointer&&c.Map.addInitHook("addHandler","tap",c.Map.Tap);
c.Control=c.Class.extend({options:{position:"topright"},initialize:function(a){c.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;return b&&b.removeControl(this),this.options.position=a,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var b=this._container=this.onAdd(a),d=this.getPosition();a=a._controlCorners[d];return c.DomUtil.addClass(b,"leaflet-control"),-1!==d.indexOf("bottom")?
a.insertBefore(b,a.firstChild):a.appendChild(b),this},remove:function(){return c.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}});c.control=function(a){return new c.Control(a)};c.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){function a(a,f){b[a+f]=c.DomUtil.create("div",d+a+" "+d+f,e)}var b=
this._controlCorners={},d="leaflet-",e=this._controlContainer=c.DomUtil.create("div",d+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){c.DomUtil.remove(this._controlContainer)}});c.Control.Zoom=c.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var b=c.DomUtil.create("div","leaflet-control-zoom leaflet-bar"),d=this.options;
return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,"leaflet-control-zoom-in",b,this._zoomIn,this),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,"leaflet-control-zoom-out",b,this._zoomOut,this),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?
3:1)},_createButton:function(a,b,d,e,f){d=c.DomUtil.create("a",d,e);d.innerHTML=a;d.href="#";d.title=b;a=c.DomEvent.stopPropagation;return c.DomEvent.on(d,"click",c.DomEvent.stop).on(d,"mousedown",a).on(d,"dblclick",a).on(d,"click",f,this).on(d,"click",this._refocusOnMap,this),d},_updateDisabled:function(){var a=this._map;c.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");c.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&c.DomUtil.addClass(this._zoomOutButton,
"leaflet-disabled");a._zoom===a.getMaxZoom()&&c.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});c.Map.mergeOptions({zoomControl:!0});c.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new c.Control.Zoom,this.addControl(this.zoomControl))});c.control.zoom=function(a){return new c.Control.Zoom(a)};c.PosAnimation=c.Evented.extend({run:function(a,b,d,e){this.stop();this._el=a;this._inProgress=!0;this._newPos=b;this.fire("start");a.style[c.DomUtil.TRANSITION]="all "+(d||
0.25)+"s cubic-bezier(0,0,"+(e||0.5)+",1)";c.DomEvent.on(a,c.DomUtil.TRANSITION_END,this._onTransitionEnd,this);c.DomUtil.setPosition(a,b);c.Util.falseFn(a.offsetWidth);this._stepTimer=setInterval(c.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(c.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),c.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,this.fire("step"),void 0):(this._onTransitionEnd(),void 0)},
_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,b,e=d.getComputedStyle(this._el);if(c.Browser.any3d){if(b=e[c.DomUtil.TRANSFORM].match(this._transformRe),!b)return;a=parseFloat(b[1]);b=parseFloat(b[2])}else a=parseFloat(e.left),b=parseFloat(e.top);return new c.Point(a,b,!0)},_onTransitionEnd:function(){c.DomEvent.off(this._el,c.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[c.DomUtil.TRANSITION]="",
this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});c.Map.include({setView:function(a,b,d){if(b=b===f?this._zoom:this._limitZoom(b),a=this._limitCenter(c.latLng(a),b,this.options.maxBounds),d=d||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!d.reset&&!0!==d)if(d.animate!==f&&(d.zoom=c.extend({animate:d.animate},d.zoom),d.pan=c.extend({animate:d.animate},d.pan)),this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,b,d.zoom):this._tryAnimatedPan(a,
d.pan))return clearTimeout(this._sizeTimer),this;return this._resetView(a,b),this},panBy:function(a,b){if(a=c.point(a).round(),b=b||{},!a.x&&!a.y)return this;if(this._panAnim||(this._panAnim=new c.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),!1!==b.animate){c.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,d,b.duration||0.25,b.easeLinearity)}else this._rawPanBy(a),
this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){c.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();return!0===(b&&b.animate)||this.getSize().contains(c)?(this.panBy(c,b),!0):!1}});c.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});(k=c.DomUtil.TRANSITION&&c.Browser.any3d&&!c.Browser.mobileOpera)&&c.Map.addInitHook(function(){(this._zoomAnimated=
this.options.zoomAnimation)&&c.DomEvent.on(this._mapPane,c.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});c.Map.include(k?{_catchTransitionEnd:function(a){this._animatingZoom&&0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||
Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/d),f=this._getCenterLayerPoint()._add(e);return!0===c.animate||this.getSize().contains(e)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(a,b,f,d,null,!0),!0):!1},_animateZoom:function(a,b,d,e,f,h){this._animatingZoom=!0;c.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=b;c.Draggable&&(c.Draggable._disabled=
!0);this.fire("zoomanim",{center:a,zoom:b,origin:d,scale:e,delta:f,backwards:h})},_onZoomTransitionEnd:function(){this._animatingZoom=!1;c.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);c.Draggable&&(c.Draggable._disabled=!1)}}:{})}(window,document);/*
 FTScroller is (c) 2012 The Financial Times Ltd [All rights reserved] and licensed under the MIT license.

 Inspired by Uxebu TouchScroll, (c) 2010 uxebu Consulting Ltd. & Co. KG and David Aurelio, which is BSD licensed (https://github.com/davidaurelio/TouchScroll)
 Inspired by Zynga Scroller, (c) 2011 Zynga Inc and Deutsche Telekom AG, which is MIT licensed (https://github.com/zynga/scroller)
 Includes CubicBezier, (c) 2008 Apple Inc [All rights reserved], (c) 2010 David Aurelio and uxebu Consulting Ltd. & Co. KG. [All rights reserved], which is 2-clause BSD licensed (see above or https://github.com/davidaurelio/TouchScroll).
 The Financial Times Ltd [All rights reserved]
 @codingstandard ftlabs-jslint
 @version 0.3.2
*/
var FTScroller,CubicBezier;
(function(){var d=!1,e=window.navigator.msPointerEnabled,f=!e&&(window.propertyIsEnumerable("ontouchstart")||window.document.hasOwnProperty("ontouchstart")),h=!window.hasOwnProperty("ArrayBuffer"),c=window.Selection&&window.Selection.prototype.removeAllRanges,k,a,b;void 0!==document.createElement("div").style.transform?(a=k="",b="transform"):window.opera&&"[object Opera]"===Object.prototype.toString.call(window.opera)?(k="-o-",a="O",b="OTransform"):void 0!==document.documentElement.style.MozTransform?(k=
"-moz-",a="Moz",b="MozTransform"):void 0!==document.documentElement.style.webkitTransform?(k="-webkit-",a="webkit",b="-webkit-transform"):"string"===typeof navigator.cpuClass&&(k="-ms-",a="ms",b="-ms-transform");if(!h&&void 0===document.createElement("div").style[a+(a?"P":"p")+"erspective"])h=!0;var g=a+(a?"T":"t")+"ransform",p=a+(a?"T":"t")+"ransition",l=h?"translate(":"translate3d(",r={x:"",y:"0,"},y={x:",0"+(h?")":",0)"),y:h?")":",0)"};FTScroller=function(h,q){var B,w,L,C,I,Q,Ma,Na,$,ra,Oa,sa,
Pa,Qa,V,da,ta,Ra,aa,P,X,ua,M,va,wa,Sa,Ta,xa,ba,ya,Ua,Va,za,Wa,ja,Aa,Xa,Ya,Za,$a,Ba,ka,Ca,Da,la,Ea,m={index:"",scrollbars:!0,scrollingX:!0,scrollingY:!0,scrollBoundary:1,scrollResponseBoundary:1,alwaysScroll:!1,contentWidth:void 0,contentHeight:void 0,snapping:!1,snapSizeX:void 0,snapSizeY:void 0,paginatedSnap:!1,bouncing:!0,flinging:!0,updateOnChanges:!0,updateOnWindowResize:!1,baseAlignments:{x:-1,y:-1},windowScrollingActiveFlag:void 0,hwAccelerationClass:"ftscroller_hwaccelerated",enableRequestAnimationFrameSupport:!0,
maxFlingDuration:300,disabledInputMethods:{mouse:!1,touch:!1,scroll:!1},scrollingClassName:void 0,flingBezier:new CubicBezier(0,0.5,0.5,1),bounceDecelerationBezier:new CubicBezier(0,0,0,0.9),bounceBezier:new CubicBezier(0,0,0,0)},ab,ma=this,R=h,s,D,J={x:null,y:null},F={x:null,y:null},E={x:null,y:null},A={x:null,y:null,rawX:null,rawY:null},z={x:null,y:null},t={x:!1,y:!1,userX:!1,userY:!1},Fa={x:0,y:0},ea={x:0,y:0},Ga=0,Ha=0,x=!1,fa=0,ga=!1,S=!1,Y=!1,na=!1,G={x:0,y:0},u={x:0,y:0},N={x:0,y:0},bb={x:null,
y:null},ha=!1,K=[],Ia=!1,W={},v={x:!0,y:!0},Ja=0,Ka=0,oa=0,pa=0,H=[],U=!1,La=!1,ia=!1,Z=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||!1,qa=window.cancelAnimationFrame||window.cancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||
!1,O={scrollstart:[],scroll:[],scrollend:[],segmentwillchange:[],segmentdidchange:[],reachedstart:[],reachedend:[],scrollinteractionend:[]},ca;if("object"===typeof FTScrollerOptions&&FTScrollerOptions)for(B in FTScrollerOptions)FTScrollerOptions.hasOwnProperty(B)&&m.hasOwnProperty(B)&&(m[B]=FTScrollerOptions[B]);if(q){for(B in q)q.hasOwnProperty(B)&&m.hasOwnProperty(B)&&(m[B]=q[B]);q.hasOwnProperty("snapSizeX")&&!isNaN(q.snapSizeX)&&(t.userX=t.x=q.snapSizeX);q.hasOwnProperty("snapSizeY")&&!isNaN(q.snapSizeY)&&
(t.userY=t.y=q.snapSizeY);q.contentWidth&&q.contentHeight&&(q.updateOnChanges=!1)}m.scrollResponseBoundary=Math.min(m.scrollBoundary,m.scrollResponseBoundary);m.scrollingX&&(W.x=!0);m.scrollingY&&(W.y=!0);qa=(Z=m.enableRequestAnimationFrameSupport&&Z)&&qa;w=function(a,b,c){var d,e,f=0,g={};I(Date.now());d={x:-a,y:-b};for(e in W)W.hasOwnProperty(e)&&(a=d[e],!1!==a&&(a=Math.min(0,Math.max(z[e],a)),m.snapping&&t[e]&&(a=Math.round(a/t[e])*t[e]),b=c||0,!0===b&&(b=20*Math.sqrt(Math.abs(G[e]-a))),P(e,a,
b),g[e]=a,f=Math.max(f,b)));if(G.x!==d.x||G.y!==d.y)Ia=!0,M("scrollstart",X()),M("scroll",X());f?K.push(setTimeout(function(){for(var a in g)g.hasOwnProperty(a)&&(u[a]=g[a]);Q()},f)):Q()};L=function(a,b,c,d){var e=na;0>=c&&(c=Date.now());if(m.windowScrollingActiveFlag&&window[m.windowScrollingActiveFlag])return!1;e?Ma():ha=!1;Ja=a;Ka=b;N.x=u.x;N.y=u.y;H.length=0;H.push({x:a,y:b,t:c});e&&C(a,b,c,d,e);return!0};C=function(a,b,e,f,g){var h,k,l=!1,n=a-Ja,p=b-Ka;0>=e&&(e=Date.now());N.x=G.x+n;N.y=G.y+
p;if(!S&&(d&&d!==ma?k=!0:m.windowScrollingActiveFlag&&window[m.windowScrollingActiveFlag]&&(k=!0),k)){la();x=!1;Y&&(ba(),$(!0)||Q(!0));return}if(Y)f.preventDefault();else{k=Sa(N);(m.bouncing||g||v.x&&n&&0>k.x||v.y&&p&&0>k.y)&&f.preventDefault();if(!g&&(!v.x||Math.abs(n)<m.scrollResponseBoundary)&&(!v.y||Math.abs(p)<m.scrollResponseBoundary))return;if(!m.bouncing&&!g&&(!v.x||!n||0<k.x)&&(!v.y||!p||0<k.y)){ha=!0;return}Ta();l=na=Ia=Y=!0}if(!S&&(g&&m.snapping||v.x&&Math.abs(n)>=m.scrollBoundary||v.y&&
Math.abs(p)>=m.scrollBoundary))S=!0,d=ma,m.windowScrollingActiveFlag&&(window[m.windowScrollingActiveFlag]=ma),M("scrollstart",X());S&&Da();c&&window.getSelection().removeAllRanges();sa();if(l&&(m.scrollingClassName&&(s.className+=" "+m.scrollingClassName),m.scrollbars))for(h in v)v.hasOwnProperty(h)&&(F[h].className+=" active");H.push({x:a,y:b,t:e});30<H.length&&H.splice(0,15)};I=function(a,b){la();x=!1;ba();M("scrollinteractionend",{});S?(H[H.length-1].t=a,d=Y=S=!1,m.windowScrollingActiveFlag&&
(window[m.windowScrollingActiveFlag]=!1),ha=!0,b&&b.preventDefault(),!Na()&&!$()&&Q()):!$(!0)&&Y&&Q(!0)};Q=function(a){var b,c;Y=na=!1;m.scrollingClassName&&(c=RegExp("(?:^|\\s)"+m.scrollingClassName+"(?!\\S)","g"),s.className=s.className.replace(c,""));if(m.scrollbars)for(b in v)v.hasOwnProperty(b)&&(F[b].className=F[b].className.replace(/ ?active/g,""));G.x=u.x;G.y=u.y;c=X();a||(M("scroll",c),aa(!0));c.cancelled=a;M("scrollend",c);for(b in v)v.hasOwnProperty(b)&&(J[b].style[p]="",m.scrollbars&&
(F[b].style[p]=""));a=0;for(b=K.length;a<b;a+=1)window.clearTimeout(K[a]);K.length=0};Ma=function(){var a,b;na=!1;Ra();for(a in v)v.hasOwnProperty(a)&&P(a,G[a],16,m.bounceDecelerationBezier);aa(!1);a=0;for(b=K.length;a<b;a+=1)window.clearTimeout(K[a]);K.length=0};Na=function(){var a,b,c,d,e,f,g,h,k,n,l,p,q,r=0,s=!1,w={};if(1===H.length||!m.flinging||"scrollwheel"===x)return!1;for(b in v)if(v.hasOwnProperty(b)){h=350;g=0;k=n=!1;p=void 0;l=m.flingBezier;d=H[H.length-1];e=H[H.length-2];for(a=H.length-
3;0<=a&&!(100<d.t-H[a].t);a-=1)e=H[a];(a=d.t-e.t)||(a=16);c=(d[b]-e[b])/a;0.2>Math.abs(c)?a=d=0:(d=Math.log(0.2/Math.abs(c))/Math.log(0.996),a=c*(1-Math.pow(0.996,d+1))/(1-0.996));e=Math.floor(u[b]+a);m.bouncing||(0===u[b]&&0<e?e=0:u[b]===z[b]&&e<u[b]&&(e=u[b]));m.paginatedSnap&&m.snapping?(q=-u[b]/t[b],q=ea[b]<q?Math.floor(q):Math.ceil(q),e>-(q-1)*t[b]?g=e+(q-1)*t[b]:e<-(q+1)*t[b]?g=e+(q+1)*t[b]:0.2<Math.abs(c)&&(e=0>c?Math.floor(u[b]/t[b])*t[b]:Math.ceil(u[b]/t[b])*t[b],d=Math.min(m.maxFlingDuration,
d*(e-u[b])/a))):m.snapping&&(g=e-Math.round(e/t[b])*t[b]);0<e-g?(g=e,n=!0):e-g<z[b]&&(g=e-z[b],n=!0);if(g)if(n&&m.bouncing&&a)a=Math.floor(a),f=0<e?e-Math.max(0,u[b]):e-Math.min(z[b],u[b]),n=a-f,!a||!d?a=0:(a=l._getCoordinateForT(l.getTForY((a-f)/a,1/d),l._p1.x,l._p2.x),p=a*d),c=Math.ceil(f/8),Math.abs(c)>E[b]/2&&(c=0>c?-Math.floor(E[b]/2):Math.floor(E[b]/2)),k=0<e?0:z[b],0===a?(d/=6,e=u[b]+n+c,f=d):(f=(a+(1-a)/6)*d,ua(b,u[b]+n+c,(1-a)*d/6,m.bounceDecelerationBezier,p),l=l.divideAtX(f/d,1/d)[0],d=
f,e=u[b]+n+c);else if(0>a&&g<a||0<a&&g>a)e-=Math.floor(a/2),g-=Math.floor(a/2),h=50*Math.sqrt(Math.abs(g)),k=e-g,d=350,f=0.97*d;else{e-=g;if(a){if(0>a&&0>g||0<a&&0<g)a=l._getCoordinateForT(l.getTForY((Math.abs(a)-Math.abs(g))/Math.abs(a),1/d),l._p1.x,l._p2.x),l=l.divideAtX(a,1/d)[0],d=Math.round(d*a)}else d=h;h=g=0}if(e!==u[b]||g)s=!0,P(b,e,d,l,p),g&&h&&ua(b,k,h,m.bounceBezier,f),r=Math.max(r,g?f+h:d),w[b]=!1===k?e:k}s&&r&&K.push(setTimeout(function(){for(var a in w)w.hasOwnProperty(a)&&(u[a]=w[a]);
Q()},r));return s};$=function(a){var b,c=a?100:350,d=u;m.snapping&&(Fa=Oa(d),d=ra(Fa,d));var d=Pa(d),e=!1;for(b in W)W.hasOwnProperty(b)&&d[b]!==u[b]&&(e=!0);if(!e)return!1;for(b in W)W.hasOwnProperty(b)&&P(b,d[b],c);K.push(setTimeout(function(){u=d;Q(a)},c));return!0};Oa=function(a){var b,c={x:0,y:0};for(b in v)v.hasOwnProperty(b)&&t[b]&&(c[b]=Math.round(a[b]/t[b]));return c};ra=function(a,b){var c,d={x:b.x,y:b.y};for(c in v)v.hasOwnProperty(c)&&(d[c]=a[c]*t[c]);return d};sa=function(){for(var a in v)v.hasOwnProperty(a)&&
(0<N[a]?N[a]=wa(N[a],a):N[a]<z[a]&&(N[a]=z[a]+wa(N[a]-z[a],a)));Z||xa()};Pa=function(a){var b,c={x:a.x,y:a.y};for(b in v)v.hasOwnProperty(b)&&(0<a[b]?c[b]=0:a[b]<z[b]&&(c[b]=z[b]));return c};Qa=function(){var a,b,c,d,e,f,g,h,k;if((a=R.firstElementChild)&&-1!==a.className.indexOf("ftscroller_container")){if(m.scrollingX){b=a.firstElementChild;if(!b||-1===b.className.indexOf("ftscroller_x"))return;d=b;if(m.scrollbars){if(g=a.getElementsByClassName("ftscroller_scrollbarx")){h=0;for(k=g.length;h<k;h+=
1)if(g[h].parentNode===a){e=g[h];break}}if(!e)return}}else d=a;if(m.scrollingY){c=d.firstElementChild;if(!c||-1===c.className.indexOf("ftscroller_y"))return;if(m.scrollbars){if(g=a.getElementsByClassName("ftscroller_scrollbary")){h=0;for(k=g.length;h<k;h+=1)if(g[h].parentNode===a){f=g[h];break}}if(!f)return}}s=a;b&&(J.x=b);c&&(J.y=c);e&&(F.x=e);f&&(F.y=f);D=m.scrollingY?c:b;return!0}};V=function(a){U&&window.clearTimeout(U);a&&"resize"===a.type?da():U=setTimeout(function(){da()},100)};da=function(a){var b;
if(!s||!D)return!1;U&&(window.clearTimeout(U),U=!1);var c,d,e;e={x:!1,y:!1};for(b in e)e.hasOwnProperty(b)&&(0===u[b]?e[b]=-1:u[b]<=z[b]?e[b]=1:2*u[b]<=z[b]+5&&2*u[b]>=z[b]-5&&(e[b]=0));c=s.offsetWidth;d=s.offsetHeight;var f=q.contentWidth||D.offsetWidth,g=q.contentHeight||D.offsetHeight,h=f,k=g,l={x:!1,y:!1};t.userX||(t.x=c);t.userY||(t.y=d);m.snapping&&(h=t.userX?Math.ceil(h/t.userX)*t.userX:Math.ceil(h/t.x)*t.x,k=t.userY?Math.ceil(k/t.userY)*t.userY:Math.ceil(k/t.y)*t.y);if(!(E.x===c&&E.y===d&&
A.x===h&&A.y===k))if(E.x=c,E.y=d,A.x=h,A.rawX=f,A.y=k,A.rawY=g,z.x=c-h,z.y=d-k,ta(),S)u.x--,u.y--,sa();else{!a&&m.snapping&&(aa(),l=ra(Fa,u));for(b in l)l.hasOwnProperty(b)&&!(E[b]<A[b]&&Ia&&m.baseAlignments[b]!==e[b])&&(1===m.baseAlignments[b]?l[b]=z[b]:0===m.baseAlignments[b]?l[b]=Math.floor(z[b]/2):-1===m.baseAlignments[b]&&(l[b]=0));m.scrollingX&&!1!==l.x&&(P("x",l.x,0),G.x=l.x);m.scrollingY&&!1!==l.y&&(P("y",l.y,0),G.y=l.y)}};ta=function(){m.scrollbars&&(m.scrollingX&&(F.x.style.width=Math.max(6,
Math.round(E.x*(E.x/A.x)-4))+"px"),m.scrollingY&&(F.y.style.height=Math.max(6,Math.round(E.y*(E.y/A.y)-4))+"px"));v={};if(m.scrollingX&&(A.x>E.x||m.alwaysScroll))v.x=!0;if(m.scrollingY&&(A.y>E.y||m.alwaysScroll))v.y=!0};Ra=function(){var a,c;for(a in v)v.hasOwnProperty(a)&&(c=window.getComputedStyle(J[a],null)[b],c=c.split(", "),G[a]=6===c.length?parseInt(c["y"===a?5:4],10):parseInt(c["y"===a?13:12],10),u[a]=G[a])};aa=function(a){var b,c={x:0,y:0};if(m.snapping){for(b in v)v.hasOwnProperty(b)&&(c[b]=
Math.max(0,Math.min(Math.ceil(A[b]/t[b])-1,Math.round(-u[b]/t[b]))));if(c.x!==Ga||c.y!==Ha)Ga=c.x,Ha=c.y,M("segmentwillchange",{segmentX:c.x,segmentY:c.y});if(a&&(c.x!==ea.x||c.y!==ea.y))ea.x=c.x,ea.y=c.y,M("segmentdidchange",{segmentX:c.x,segmentY:c.y})}};P=function(a,b,c,d,e){var f=null;if(!J[a])return!1;c?(d||(d=m.flingBezier),d=k+"transform "+c+"ms "+d.toString()):d="";J[a].style[p]=d;m.scrollbars&&(F[a].style[p]=d);J[a].style[g]=l+r[a]+b+"px"+y[a];m.scrollbars&&(F[a].style[g]=l+r[a]+-b*E[a]/
A[a]+"px"+y[a]);0<=b?f="start":b<=z[a]&&(f="end");f!==bb[a]&&(null!==f&&(c?K.push(setTimeout(function(){M("reached"+f,{axis:a,index:m.index})},e||c)):M("reached"+f,{axis:a,index:m.index})),bb[a]=f);c||(u[a]=b)};X=function(){return{scrollLeft:-u.x,scrollTop:-u.y}};ua=function(a,b,c,d,e){K.push(setTimeout(function(){P(a,b,c,d)},e))};M=function(a,b){var c,d;b.srcObject=ab;c=0;for(d=O[a].length;c<d;c+=1)try{O[a][c](b)}catch(e){window.console&&window.console.error&&window.console.error(e.message+" ("+
e.sourceURL+", line "+e.line+")")}};va=function(a){var b,c;a=Ea(a.target);var d=Ea(s),e={x:"left",y:"top"},f={x:"right",y:"bottom"},g={x:"width",y:"height"};if(!1===x){for(c in v)if(v.hasOwnProperty(c)&&!(a[e[c]]>=d[e[c]]&&a[f[c]]<=d[f[c]])){if(a[g[c]]>d[g[c]]&&(b=a[g[c]]-Math.max(0,d[e[c]]-a[e[c]])-Math.max(0,a[f[c]]-d[f[c]]),b>=d[g[c]]/2))continue;b=-Math.round(a[g[c]]/2-u[c]+a[e[c]]-d[e[c]]-d[g[c]]/2);b=Math.min(0,Math.max(z[c],b));P(c,b,0);G[c]=b}M("scroll",X())}};wa=function(a,b){if(!m.bouncing)return 0;
var c=Math.exp(a/E[b]);return Math.round(0.6*E[b]*(c-1)/(c+1))};Sa=function(a){var b,c,d={};for(b in a)a.hasOwnProperty(b)&&(c=a[b],d[b]=0<=c?c:c>z[b]?-1:z[b]-c);return d};Ta=function(){Z&&(ba(),ia=Z(xa))};xa=function cb(){var a,b;Z&&(ia=Z(cb));for(a in v)v.hasOwnProperty(a)&&N[a]!==u[a]&&(P(a,N[a]),b=!0);S&&b&&(M("scroll",X()),aa(!1))};ba=function(){!1!==ia&&qa&&(qa(ia),ia=!1)};ya=function(b){s&&(s._ftscrollerToggle=b?s.addEventListener:s.removeEventListener,e?(s._ftscrollerToggle("MSPointerDown",
Xa,!0),s._ftscrollerToggle("MSPointerMove",Ya,!0),s._ftscrollerToggle("MSPointerUp",Za,!0),s._ftscrollerToggle("MSPointerCancel",$a,!0)):(f&&!m.disabledInputMethods.touch&&(s._ftscrollerToggle("touchstart",Ua,!0),s._ftscrollerToggle("touchmove",Va,!0),s._ftscrollerToggle("touchend",za,!0),s._ftscrollerToggle("touchcancel",za,!0)),m.disabledInputMethods.mouse||(s._ftscrollerToggle("mousedown",Wa,!0),b||(document.removeEventListener("mousemove",ja,!0),document.removeEventListener("mouseup",Aa,!0)))),
m.disabledInputMethods.scroll||(s._ftscrollerToggle("DOMMouseScroll",Ca,!1),s._ftscrollerToggle("mousewheel",Ca,!1)),e?b?document.addEventListener("click",ka,!0):document.removeEventListener("click",ka,!0):s._ftscrollerToggle("click",ka,!0),b?(D.addEventListener("focus",va,!0),m.updateOnChanges&&(ca||(b=window.MutationObserver||window.WebKitMutationObserver||window[a+"MutationObserver"])&&(ca=new b(V)),ca?ca.observe(D,{childList:!0,characterData:!0,subtree:!0}):D.addEventListener("DOMSubtreeModified",
function(a){(!a||!(a.srcElement===D||-1!==a.srcElement.className.indexOf("ftscroller_")))&&V()},!0),D.addEventListener("load",V,!0)),m.updateOnWindowResize&&window.addEventListener("resize",V,!0)):(D.removeEventListener("focus",va,!0),ca?ca.disconnect():D.removeEventListener("DOMSubtreeModified",V,!0),D.removeEventListener("load",V,!0),window.removeEventListener("resize",V,!0)),delete s._ftscrollerToggle)};Ua=function(a){var b,c;if(x){b=0;for(c=a.touches.length;b<c;b+=1)a.touches[b].identifier===
x&&(fa=b)}else b=a.touches[0],x=b.identifier,fa=0,L(b.clientX,b.clientY,a.timeStamp,a)};Va=function(a){if(!1!==x){var b=a.touches[fa];C(b.clientX,b.clientY,a.timeStamp,a)}};za=function(a){var b,c;if(a.touches){b=0;for(c=a.touches.length;b<c;b+=1)if(a.touches[b].identifier===x){fa=b;return}}I(a.timeStamp,a)};Wa=function(a){a.button&&2===a.button||a.ctrlKey||(s.setCapture&&s.setCapture(),document.addEventListener("mousemove",ja,!0),document.addEventListener("mouseup",Aa,!0),x=a.button||1,fa=0,L(a.clientX,
a.clientY,a.timeStamp,a))};ja=function(a){x&&C(a.clientX,a.clientY,a.timeStamp,a)};Aa=function db(a){a.button&&a.button!==x||(document.removeEventListener("mousemove",ja,!0),document.removeEventListener("mouseup",db,!0),s.releaseCapture&&s.releaseCapture(),I(a.timeStamp,a))};Xa=function(a){if(!x){if(a.pointerType===a.MSPOINTER_TYPE_TOUCH){if(m.disabledInputMethods.touch)return}else if(m.disabledInputMethods.mouse)return;x=a.pointerId;Da();L(a.clientX,a.clientY,a.timeStamp,a)}};Ya=function(a){x===
a.pointerId&&C(a.clientX,a.clientY,a.timeStamp,a)};Za=function(a){x===a.pointerId&&I(a.timeStamp,a)};$a=function(a){I(a.timeStamp,a)};Ba=function(a){ga=!1};ka=function(a){if(!ha&&!x)return!0;a.preventDefault();a.stopPropagation();x||(ha=!1);return!1};Ca=function(a){var b,c;if("scrollwheel"!==x){if(!1!==x)return!0;x="scrollwheel";pa=oa=0;if(!L(a.clientX,a.clientY,Date.now(),a))return}a.wheelDelta?a.wheelDeltaX?(b=a.wheelDeltaX/2,c=a.wheelDeltaY/2):(b=0,c=a.wheelDelta/2):a.axis&&a.axis===a.HORIZONTAL_AXIS?
(b=-10*a.detail,c=0):(b=0,c=-10*a.detail);!m.scrollingY&&!b&&(b=c,c=0);oa=Math.round(oa+b);pa=Math.round(pa+c);C(Ja+oa,Ka+pa,a.timeStamp,a);La&&clearTimeout(La);La=setTimeout(function(){la();d=Y=S=x=!1;m.windowScrollingActiveFlag&&(window[m.windowScrollingActiveFlag]=!1);ba();$()||Q()},300)};Da=function(){if(!ga&&!(!1===x||"scrollwheel"===x))e&&(s.msSetPointerCapture(x),s.addEventListener("MSLostPointerCapture",Ba,!1)),ga=!0};la=function(){ga&&(e&&(s.removeEventListener("MSLostPointerCapture",Ba,
!1),s.msReleasePointerCapture(x)),ga=!1)};Ea=function(a){if(a.getBoundingClientRect)return a.getBoundingClientRect();for(var b=0,c=0,d=a;d;)b=b+d.offsetLeft-d.scrollLeft,c=c+d.offsetTop-d.scrollTop,d=d.offsetParent;return{left:b,top:c,width:a.offsetWidth,height:a.offsetHeight}};(function(){var a,b;if(!Qa()){a=R.ownerDocument.createDocumentFragment();b=document.createElement("DIV");a.appendChild(b);b.innerHTML=FTScroller.prototype.getPrependedHTML(!m.scrollingX,!m.scrollingY,m.hwAccelerationClass)+
FTScroller.prototype.getAppendedHTML(!m.scrollingX,!m.scrollingY,m.hwAccelerationClass,m.scrollbars);a=s=b.firstElementChild;m.scrollingX&&(J.x=s.firstElementChild,a=J.x,m.scrollbars&&(F.x=s.getElementsByClassName("ftscroller_scrollbarx")[0]));m.scrollingY?(J.y=a.firstElementChild,m.scrollbars&&(F.y=s.getElementsByClassName("ftscroller_scrollbary")[0]),D=J.y):D=J.x;for(;R.firstChild;)D.appendChild(R.firstChild);R.appendChild(s)}})();da();ya(!0);return ab={destroy:function(a){var b,c;ya(!1);ba();U&&
(window.clearTimeout(U),U=!1);b=0;for(c=K.length;b<c;b+=1)window.clearTimeout(K[b]);K.length=0;if(a&&R){for(;D.firstChild;)R.appendChild(D.firstChild);R.removeChild(s)}D=s=R=null;J.x=null;J.y=null;F.x=null;F.y=null;for(b in O)O.hasOwnProperty(b)&&(O[b].length=0);d&&d===ma&&(d=!1,m.windowScrollingActiveFlag&&(window[m.windowScrollingActiveFlag]=!1))},setSnapSize:function(a,b){t.userX=a;t.userY=b;t.x=a;t.y=b;A.x=Math.ceil(A.rawX/a)*a;A.y=Math.ceil(A.rawY/b)*b;z.x=E.x-A.x;z.y=E.y-A.y;ta();$();aa(!0)},
scrollTo:w,scrollBy:function(a,b,c){w(parseFloat(a)-G.x,parseFloat(b)-G.y,c)},updateDimensions:function(a,b,c){q.contentWidth=a||q.contentWidth;q.contentHeight=b||q.contentHeight;da(!!c)},addEventListener:function(a,b){if(!O.hasOwnProperty(a))return!1;O[a].push(b);return!0},removeEventListener:function(a,b){var c;if(!O.hasOwnProperty(a))return!1;for(c=O[a].length;0<=c;c-=1)O[a][c]===b&&O[a].splice(c,1);return!0},get scrollHeight(){return A.y},set scrollHeight(a){throw new SyntaxError("scrollHeight is currently read-only - ignoring "+
a);},get scrollLeft(){return-u.x},set scrollLeft(a){w(a,!1,!1);return-u.x},get scrollTop(){return-u.y},set scrollTop(a){w(!1,a,!1);return-u.y},get scrollWidth(){return A.x},set scrollWidth(a){throw new SyntaxError("scrollWidth is currently read-only - ignoring "+a);},get segmentCount(){return!m.snapping?{x:NaN,y:NaN}:{x:Math.ceil(A.x/t.x),y:Math.ceil(A.y/t.y)}},set segmentCount(a){throw new SyntaxError("segmentCount is currently read-only - ignoring "+a);},get currentSegment(){return{x:Ga,y:Ha}},
set currentSegment(a){throw new SyntaxError("currentSegment is currently read-only - ignoring "+a);},get contentContainerNode(){return D},set contentContainerNode(a){throw new SyntaxError("contentContainerNode is currently read-only - ignoring "+a);}}};FTScroller.prototype.getPrependedHTML=function(a,b,c){c||(c="object"===typeof FTScrollerOptions&&FTScrollerOptions.hwAccelerationClass?FTScrollerOptions.hwAccelerationClass:"ftscroller_hwaccelerated");var d='<div class="ftscroller_container">';a||(d+=
'<div class="ftscroller_x '+c+'">');b||(d+='<div class="ftscroller_y '+c+'">');return d};FTScroller.prototype.getAppendedHTML=function(a,b,c,d){c||(c="object"===typeof FTScrollerOptions&&FTScrollerOptions.hwAccelerationClass?FTScrollerOptions.hwAccelerationClass:"ftscroller_hwaccelerated");var e="";a||(e+="</div>");b||(e+="</div>");d&&(a||(e+='<div class="ftscroller_scrollbar ftscroller_scrollbarx '+c+'"><div class="ftscroller_scrollbarinner"></div></div>'),b||(e+='<div class="ftscroller_scrollbar ftscroller_scrollbary '+
c+'"><div class="ftscroller_scrollbarinner"></div></div>'));return e+"</div>"}})();
(function(){function d(d,f){throw new RangeError('"'+d+'" must be a number between 0 and 1. Got '+f+" instead.");}CubicBezier=function(e,f,h,c){0<=e&&1>=e||d("p1x",e);0<=f&&1>=f||d("p1y",f);0<=h&&1>=h||d("p2x",h);0<=c&&1>=c||d("p2y",c);this._p1={x:e,y:f};this._p2={x:h,y:c}};CubicBezier.prototype._getCoordinateForT=function(d,f,h){var c=3*f;f=3*(h-f)-c;return(((1-c-f)*d+f)*d+c)*d};CubicBezier.prototype._getCoordinateDerivateForT=function(d,f,h){var c=3*f;f=3*(h-f)-c;return(3*(1-c-f)*d+2*f)*d+c};CubicBezier.prototype._getTForCoordinate=
function(d,f,h,c){if(!isFinite(c)||0>=c)throw new RangeError('"epsilon" must be a number greater than 0.');var k,a,b,g;k=d;for(a=0;8>a;a+=1){b=this._getCoordinateForT(k,f,h)-d;if(Math.abs(b)<c)return k;g=this._getCoordinateDerivateForT(k,f,h);if(1E-6>Math.abs(g))break;k-=b/g}k=d;a=0;g=1;if(k<a)return a;if(k>g)return g;for(;a<g;){b=this._getCoordinateForT(k,f,h);if(Math.abs(b-d)<c)break;d>b?a=k:g=k;k=0.5*(g-a)+a}return k};CubicBezier.prototype.getPointForT=function(e){if(0===e||1===e)return{x:e,y:e};
(0>e||1<e)&&d("t",e);return{x:this._getCoordinateForT(e,this._p1.x,this._p2.x),y:this._getCoordinateForT(e,this._p1.y,this._p2.y)}};CubicBezier.prototype.getTForX=function(d,f){return this._getTForCoordinate(d,this._p1.x,this._p2.x,f)};CubicBezier.prototype.getTForY=function(d,f){return this._getTForCoordinate(d,this._p1.y,this._p2.y,f)};CubicBezier.prototype._getAuxPoints=function(e){(0>=e||1<=e)&&d("t",e);var f={x:e*this._p1.x,y:e*this._p1.y},h={x:this._p1.x+e*(this._p2.x-this._p1.x),y:this._p1.y+
e*(this._p2.y-this._p1.y)},c={x:this._p2.x+e*(1-this._p2.x),y:this._p2.y+e*(1-this._p2.y)},k={x:f.x+e*(h.x-f.x),y:f.y+e*(h.y-f.y)},a={x:h.x+e*(c.x-h.x),y:h.y+e*(c.y-h.y)};return{i0:f,i1:h,i2:c,j0:k,j1:a,k:{x:k.x+e*(a.x-k.x),y:k.y+e*(a.y-k.y)}}};CubicBezier.prototype.divideAtT=function(e){var f,h,c,k,a,b,g;(0>e||1<e)&&d("t",e);if(0===e||1===e)return b=[],b[e]=CubicBezier.linear(),b[1-e]=this.clone(),b;b=this._getAuxPoints(e);k=b.i0;e=b.i2;h=b.j0;c=b.j1;b=b.k;f=b.x;var p=b.y;b=k.x/f;g=k.y/p;k=h.x/f;
a=h.y/p;h=(c.x-f)/(1-f);c=(c.y-p)/(1-p);f=(e.x-f)/(1-f);e=(e.y-p)/(1-p);return[new CubicBezier(b,g,k,a),new CubicBezier(h,c,f,e)]};CubicBezier.prototype.divideAtX=function(e,f){(0>e||1<e)&&d("x",e);var h=this.getTForX(e,f);return this.divideAtT(h)};CubicBezier.prototype.divideAtY=function(e,f){(0>e||1<e)&&d("y",e);var h=this.getTForY(e,f);return this.divideAtT(h)};CubicBezier.prototype.clone=function(){return new CubicBezier(this._p1.x,this._p1.y,this._p2.x,this._p2.y)};CubicBezier.prototype.toString=
function(){return"cubic-bezier("+[this._p1.x,this._p1.y,this._p2.x,this._p2.y].join(", ")+")"};CubicBezier.linear=function(){return new CubicBezier};CubicBezier.ease=function(){return new CubicBezier(0.25,0.1,0.25,1)};CubicBezier.linear=function(){return new CubicBezier(0,0,1,1)};CubicBezier.easeIn=function(){return new CubicBezier(0.42,0,1,1)};CubicBezier.easeOut=function(){return new CubicBezier(0,0,0.58,1)};CubicBezier.easeInOut=function(){return new CubicBezier(0.42,0,0.58,1)}})();var module;
void 0!==module&&module.exports&&(module.exports=function(d,e){return new FTScroller(d,e)},module.exports.FTScroller=FTScroller,module.exports.CubicBezier=CubicBezier);
